<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>5.2.2. Configuration of the JAIN SIP Resource Adapter</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="Mobicents"/>
      <link rel="up" href="section-SIP_Resource_Adapter.html" title="5.2. SIP Resource Adapter"/>
      <link rel="prev" href="section-Installing_the_JAIN_SIP_Resource_Adapter.html" title="5.2.1. Installing the JAIN SIP Resource Adapter"/>
      <link rel="next" href="section-End-to-End_SIP_Example.html" title="5.2.3. Example: End-to-End SIP"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="section-Installing_the_JAIN_SIP_Resource_Adapter.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="section-End-to-End_SIP_Example.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="section" lang="en-US">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="section-Configuration_of_the_JAIN_SIP_Resource_Adapter"/>5.2.2. Configuration of the JAIN SIP Resource Adapter</h3>
               </div>
            </div>
         </div>
         <p>Currently, the <acronym class="acronym">JAIN</acronym> 
            <acronym class="acronym">SIP</acronym> resource adapter can be configured in three different ways.</p>
         <div class="itemizedlist">
            <ul>
               <li>
                  <p>
					
                     <a href="section-Configuration_of_the_JAIN_SIP_Resource_Adapter.html#fpara-Configuring_the_SIP_RA_Via_the_Provisioning_Mechanism" title="Configuring the SIP RA Via the Provisioning Mechanism">Via the provisioning mechanism</a>, by altering the <code class="filename">resource-adaptor.xml</code> configuration file.</p>
               </li>
               <li>
                  <p>
					“<span class="quote">Via properites file jared with classes ( atleast to configure port and ip, it still is place to put gov.nist properties to configure other stack props)</span>”
				</p>
                  <p>Baranowb: is this deprecated? You wrote: “<span class="quote">Properties also can be present in properties file present in ra/src/org/mobicents/slee/resources/sip/ diretory. It will be packed to jar with all classes, and wil be used to configure RA and stack(however its deprecated!!!).</span>”
				</p>
               </li>
               <li>
                  <p>
					
                     <a href="section-Configuration_of_the_JAIN_SIP_Resource_Adapter.html#fpara-Configuring_the_SIP_RA_Via_Passing_Properties_to_an_MBean" title="Configuring the SIP RA Via Passing Properties to an MBean">Via properties passed to the MBean which created the Resource Adapter Entity</a>
				
                  </p>
               </li>
            </ul>
         </div>
         <p class="formalpara">
            <a id="fpara-Configuring_the_SIP_RA_Via_the_Provisioning_Mechanism"/>
         </p>
         <h5 class="formalpara">Configuring the SIP RA Via the Provisioning Mechanism</h5>
         <p>You can set provisioned properties in the <code class="filename">resource-adaptor.xml</code> file, which is located in <code class="filename">resources/sipra/ra/xml/</code> [TBD: this directory does not exist in the binary installation: exactly which files should we be modifying?]. </p>
         <p>Provided here are explanations of the various property values which you can set. All of the following configuration entries, which are <code class="literal">&lt;config-property&gt;</code> elements in the XML file, should be unordered children of their parent <code class="literal">&lt;resource-adapter&gt;</code> element <sup>[<a id="footnote-resource-adaptor.xml" href="#ftn.footnote-resource-adaptor.xml">6</a>]</sup>
		
         </p>
         <div class="variablelist">
            <dl>
               <dt>
                  <span class="term">dialogIdleTimeTimeout</span>
               </dt>
               <dd>
                  <p>This configuration property sets the timeout on dialogs, in milliseconds. After this amount of time, if the dialog hasn't received any requests or responses, and didn't send any, it is considered to be a “<span class="quote">dead end</span>” and is terminated.</p>
                  <a id="proglist-dialogIdleTimeTimeout"/>
                  <pre class="programlisting">
&lt;config-property&gt;
	&lt;description&gt;uS after which dialog if it has not received/send any message is considered to be dead and is expunged&lt;/description&gt;
	&lt;config-property-name&gt;dialogIdleTimeTimeout&lt;/config-property-name&gt;
	&lt;config-property-type&gt;java.lang.Long&lt;/config-property-type&gt;
	&lt;config-property-value&gt;360000&lt;/config-property-value&gt;
&lt;/config-property&gt;</pre>
               </dd>
               <dt>
                  <span class="term">cancelWait</span>
               </dt>
               <dd>
                  <p>This configuration property sets the amount of time, in milleseconds, between receiving a <code class="literal">CANCEL</code> and triggering logic to handle it.</p>
                  <a id="proglist-cancelWait"/>
                  <pre class="programlisting">
&lt;config-property&gt;
	&lt;description&gt;uS after CANCEL event is going to be fired into SLEE. This atleast gives Sbbs chance to see INVITE and respond, rather than receiving INVITE in on Tx that is in terminated state.&lt;/description&gt;
	&lt;config-property-name&gt;cancelWait&lt;/config-property-name&gt;
	&lt;config-property-type&gt;java.lang.Long&lt;/config-property-type&gt;
	&lt;config-property-value&gt;1000&lt;/config-property-value&gt;
&lt;/config-property&gt;
</pre>
               </dd>
               <dt>
                  <span class="term">port</span>
               </dt>
               <dd>
                  <p>This configuration property sets the port number on which the underlying <acronym class="acronym">SIP</acronym> stack will listen.</p>
                  <a id="proglist-port"/>
                  <pre class="programlisting">
&lt;config-property&gt;
	&lt;config-property-name&gt;port&lt;/config-property-name&gt;
	&lt;config-property-type&gt;java.lang.Integer&lt;/config-property-type&gt;
	&lt;config-property-value&gt;5060&lt;/config-property-value&gt;
&lt;/config-property&gt;
</pre>
               </dd>
               <dt>
                  <span class="term">ip</span>
               </dt>
               <dd>
                  <p>This configuration property sets the <acronym class="acronym">IP</acronym> address of the underlying stack. If it is set to <code class="varname">null</code>, then the <acronym class="acronym">SIP</acronym> resource adapter will use the binding address of the container as its <acronym class="acronym">IP</acronym> address.</p>
                  <a id="proglist-ip"/>
                  <pre class="programlisting">
&lt;config-property&gt;
	&lt;description&gt;IP to which SIP RAs stack should attach - if "null" it will cause RA to pick up Container bind address address&lt;/description&gt;
	&lt;config-property-name&gt;ip&lt;/config-property-name&gt;
	&lt;config-property-type&gt;java.lang.String&lt;/config-property-type&gt;
	&lt;config-property-value&gt;null&lt;/config-property-value&gt;
&lt;/config-property&gt;
</pre>
               </dd>
               <dt>
                  <span class="term">transports</span>
               </dt>
               <dd>
                  <p>This configuration property sets the transports to be used by the stack. It is a string.</p>
                  <a id="proglist-transports"/>
                  <pre class="programlisting">
&lt;config-property&gt;
	&lt;description&gt;List of transports, separated with ","&lt;/description&gt;
	&lt;config-property-name&gt;transports&lt;/config-property-name&gt;
	&lt;config-property-type&gt;java.lang.String&lt;/config-property-type&gt;
	&lt;config-property-value&gt;UDP&lt;/config-property-value&gt;
&lt;/config-property&gt;
</pre>
               </dd>
            </dl>
         </div>
         <p class="formalpara">
            <a id="fpara-Configuring_the_SIP_RA_Via_Passing_Properties_to_an_MBean"/>
         </p>
         <h5 class="formalpara">Configuring the SIP RA Via Passing Properties to an MBean</h5>
         <div xmlns="" class="footnotes">
            <br/>
            <hr/>
            <div xmlns="http://www.w3.org/1999/xhtml" class="footnote">
               <p>
                  <sup>[<a id="ftn.footnote-resource-adaptor.xml" href="#footnote-resource-adaptor.xml">6</a>] </sup>Here is an example of the complete <code class="filename">resource-adaptor.xml</code> configuration file.</p>
               <pre class="programlisting">
&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;!DOCTYPE resource-adaptor-jar PUBLIC "-//Sun Microsystems, Inc.//DTD JAIN SLEE Resource Adaptor 1.0//EN" "http://java.sun.com/dtd/slee-resource-adaptor-jar_1_0.dtd"&gt;
&lt;resource-adaptor-jar&gt;
	&lt;resource-adaptor
		id="jain-sip_1.1_RA"&gt;
		&lt;description&gt;JAIN SIP Resource Adaptor&lt;/description&gt;
		&lt;resource-adaptor-name&gt;JainSipResourceAdaptor&lt;/resource-adaptor-name&gt;
		&lt;resource-adaptor-vendor&gt;net.java.slee.sip&lt;/resource-adaptor-vendor&gt;
		&lt;resource-adaptor-version&gt;1.2&lt;/resource-adaptor-version&gt;
					
		&lt;resource-adaptor-type-ref&gt;
			&lt;resource-adaptor-type-name&gt;JAIN SIP&lt;/resource-adaptor-type-name&gt;
			&lt;resource-adaptor-type-vendor&gt;javax.sip&lt;/resource-adaptor-type-vendor&gt;
			&lt;resource-adaptor-type-version&gt;1.2&lt;/resource-adaptor-type-version&gt;
		&lt;/resource-adaptor-type-ref&gt;

	&lt;!--added oc-resource-adaptor.xml lines here altogether--&gt;
		&lt;resource-adaptor-classes&gt;
			&lt;resource-adaptor-class&gt;
				&lt;resource-adaptor-class-name&gt;
                    org.mobicents.slee.resource.sip.SipResourceAdaptor
                &lt;/resource-adaptor-class-name&gt;
			&lt;/resource-adaptor-class&gt;
		&lt;/resource-adaptor-classes&gt;
					
		&lt;config-property&gt;
			&lt;description&gt;uS after which dialog if it has not received/send any message is considered to be dead and is expunged&lt;/description&gt;
			&lt;config-property-name&gt;dialogIdleTimeTimeout&lt;/config-property-name&gt;
			&lt;config-property-type&gt;java.lang.Long&lt;/config-property-type&gt;
			&lt;config-property-value&gt;360000&lt;/config-property-value&gt;
		&lt;/config-property&gt;
					
		&lt;config-property&gt;
			&lt;description&gt;uS after CANCEL event is going to be fired into SLEE. This atleast gives Sbbs chance to see INVITE and respond, rather than receiving INVITE in on Tx that is in terminated state.&lt;/description&gt;
			&lt;config-property-name&gt;cancelWait&lt;/config-property-name&gt;
			&lt;config-property-type&gt;java.lang.Long&lt;/config-property-type&gt;
			&lt;config-property-value&gt;1000&lt;/config-property-value&gt;
		&lt;/config-property&gt;
					
		&lt;config-property&gt;
			&lt;config-property-name&gt;port&lt;/config-property-name&gt;
			&lt;config-property-type&gt;java.lang.Integer&lt;/config-property-type&gt;
			&lt;config-property-value&gt;5060&lt;/config-property-value&gt;
		&lt;/config-property&gt;
					
		&lt;config-property&gt;
			&lt;description&gt;IP to which SIP RAs stack should attach - if "null" it will cause RA to pick up Container bind address address&lt;/description&gt;
			&lt;config-property-name&gt;ip&lt;/config-property-name&gt;
			&lt;config-property-type&gt;java.lang.String&lt;/config-property-type&gt;
			&lt;config-property-value&gt;null&lt;/config-property-value&gt;
		&lt;/config-property&gt;
					
		&lt;config-property&gt;
			&lt;description&gt;List of transports, separated with ","&lt;/description&gt;
			&lt;config-property-name&gt;transports&lt;/config-property-name&gt;
			&lt;config-property-type&gt;java.lang.String&lt;/config-property-type&gt;
			&lt;config-property-value&gt;UDP&lt;/config-property-value&gt;
		&lt;/config-property&gt;
	&lt;/resource-adaptor&gt;
&lt;/resource-adaptor-jar&gt;</pre>
            </div>
         </div>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="section-Installing_the_JAIN_SIP_Resource_Adapter.html">
               <strong>Prev</strong>5.2.1. Installing the JAIN SIP Resource Adapter</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="section-End-to-End_SIP_Example.html">
               <strong>Next</strong>5.2.3. Example: End-to-End SIP</a>
         </li>
      </ul>
   </body>
</html>