<?xml version="1.0" encoding="utf-8"?>
<project name="B2BUserAgent" default="all">
    <property name="project.home" value="."/>
    <property environment="system"/>
    <property name="jboss.home" value="${system.JBOSS_HOME}"/>
    <property name="mobicents.sar" value="${jboss.home}/server/all/deploy/mobicents.sar"/>
    <property name="sbb_class_path" value="${project.home}/classes/com/ptin/xmas/control"/>
    <property name="sbb_src_path" value="${project.home}/src/com/ptin/xmas/control"/>
    <target name="init">
        <path id="slee">
            <pathelement location="lib\slee.jar"/>
        </path>
        <taskdef name="sbbjar" classname="com.opencloud.ant.SbbJar" classpath="lib\slee-tasks.jar"/>
        <taskdef name="eventjar" classname="com.opencloud.ant.EventJar" classpath="lib\slee-tasks.jar"/>
        <taskdef name="profilespecjar"
            classname="com.opencloud.ant.ProfileSpecJar" classpath="lib\slee-tasks.jar"/>
        <taskdef name="deployablejar"
            classname="com.opencloud.ant.DeployableJar" classpath="lib\slee-tasks.jar"/>
        <taskdef name="resourceadaptortypejar"
            classname="com.opencloud.ant.ResourceAdaptorTypeJar" classpath="lib\slee-tasks.jar"/>
        <taskdef name="resourceadaptorjar"
            classname="com.opencloud.ant.ResourceAdaptorJar" classpath="lib\slee-tasks.jar"/>
        <path id="path-Common-B2B">
            <pathelement location="lib\slee.jar"/>
        	<pathelement location="lib\sleeRA.zip"/>
            <pathelement location="lib\JainSipApi1.1.jar"/>
            <pathelement location="lib\nist-sip-1.2.jar"/>
            <pathelement location="lib\slee-src.jar"/>
            <pathelement location="lib\slee-tasks.jar"/>
        	<pathelement location="lib\nist-sdp-1.0.jar"/>
            <pathelement location="jars\sip-resource-adaptor.jar"/>
            <pathelement location="jars\xmpp-resource-adaptor.jar"/>        	
            <pathelement location="lib\log4j.jar"/>
        	<pathelement location="lib\smack.jar"/>
        	<pathelement location="lib\xSipGateway.jar"/>
        </path>
        <path id="path-BaseB2B-sbb">
            <pathelement location="jars\sip-events.jar"/>
        </path>
    </target>
    <target name="all" depends="init">
        <ant target="build-Hold-event"/>
        <ant target="build-Wait-event"/>
        <ant target="build-Reject-event"/>
        <ant target="build-FromConnected-event"/>
        <ant target="build-CallEstablished-event"/>
        <ant target="build-FromDisconnected-event"/>
        <ant target="build-ToDisconnected-event"/>
        <ant target="build-FromRejected-event"/>
        <ant target="build-FromBusy-event"/>
        <ant target="build-FromNoAnswer-event"/>
        <ant target="build-FromUnavailable-event"/>
        <ant target="build-FromNetworkUnavailable-event"/>
        <ant target="build-ToRejected-event"/>
        <ant target="build-ToBusy-event"/>
        <ant target="build-ToNoAnswer-event"/>
        <ant target="build-ToUnavailable-event"/>
        <ant target="build-ToNetworkUnavailable-event"/>
        <ant target="build-IncomingCall-event"/>
        <ant target="build-FromRinging-event"/>
        <ant target="build-ToRinging-event"/>
        <ant target="build-ToConnected-event"/>
        <ant target="build-CallRedirectionSuccess-event"/>
        <ant target="build-CallRedirectionFailed-event"/>
        <ant target="build-ToMediaUnsupported-event"/>
        <ant target="build-ToTrying-event"/>
        <ant target="build-PeerDisconnected-event"/>
        <ant target="build-StatusInvitingPeer-event"/>
        <ant target="build-StatusPeerConnected-event"/>
        <ant target="build-StatusPeerRinging-event"/>
        <ant target="build-StatusOutcomFailed-event"/>
        <ant target="build-StatusPeerDisconnected-event"/>
        <ant target="build-StatusOncom-event"/>
        <ant target="build-StatusFinished-event"/>
        <ant target="build-Ack-event"/>
        <ant target="build-Bye-event"/>
        <ant target="build-StatusIncomAccepted-event"/>
        <ant target="build-StatusIncomRinging-event"/>
        <ant target="build-MediaChangeReq-event"/>
        <ant target="build-Registered-event"/>
        <ant target="build-Unregistered-event"/>
        <ant target="build-Common-classes"/>
    	<ant target="build-BaseB2B-sbb"/>
        <ant target="build-B2BUserAgent-DU"/>
    </target>
    <target name="clean" depends="init">
    	<ant target="clean-Common-classes"/>
    	<ant target="clean-Hold-event"/>
        <ant target="clean-Wait-event"/>
        <ant target="clean-Reject-event"/>
        <ant target="clean-Reject-event"/>
        <ant target="clean-FromConnected-event"/>
        <ant target="clean-CallEstablished-event"/>
        <ant target="clean-FromDisconnected-event"/>
        <ant target="clean-ToDisconnected-event"/>
        <ant target="clean-FromRejected-event"/>
        <ant target="clean-FromBusy-event"/>
        <ant target="clean-FromNoAnswer-event"/>
        <ant target="clean-FromUnavailable-event"/>
        <ant target="clean-FromNetworkUnavailable-event"/>
        <ant target="clean-ToRejected-event"/>
        <ant target="clean-ToBusy-event"/>
        <ant target="clean-ToNoAnswer-event"/>
        <ant target="clean-ToUnavailable-event"/>
        <ant target="clean-ToNetworkUnavailable-event"/>
        <ant target="clean-IncomingCall-event"/>
        <ant target="clean-FromRinging-event"/>
        <ant target="clean-ToRinging-event"/>
        <ant target="clean-ToConnected-event"/>
        <ant target="clean-CallRedirectionSuccess-event"/>
        <ant target="clean-CallRedirectionFailed-event"/>
        <ant target="clean-ToMediaUnsupported-event"/>
        <ant target="clean-ToTrying-event"/>
        <ant target="clean-PeerDisconnected-event"/>
        <ant target="clean-StatusInvitingPeer-event"/>
        <ant target="clean-StatusPeerConnected-event"/>
        <ant target="clean-StatusPeerRinging-event"/>
        <ant target="clean-StatusOutcomFailed-event"/>
        <ant target="clean-StatusPeerDisconnected-event"/>
        <ant target="clean-StatusOncom-event"/>
        <ant target="clean-StatusFinished-event"/>
        <ant target="clean-Ack-event"/>
        <ant target="clean-Bye-event"/>
        <ant target="clean-StatusIncomAccepted-event"/>
        <ant target="clean-StatusIncomRinging-event"/>
        <ant target="clean-MediaChangeReq-event"/>
        <ant target="clean-Registered-event"/>
        <ant target="clean-Unregistered-event"/>
    	<delete dir="classes/events"/>
    	<ant target="clean-BaseB2B-sbb"/>
        <ant target="clean-B2BUserAgent-DU"/>
    </target>
    <target name="build-Common-classes" depends="init">
    	<mkdir dir="classes/com/ptin/xmas/control/common"/>
        <javac destdir="classes" srcdir="src"
            includes="com/ptin/xmas/control/common/*.java, 
        			  com/ptin/xmas/control/common/interfaces/*.java,
        		      com/ptin/xmas/control/common/events/*.java,
        			  com/ptin/xmas/control/common/exceptions/*.java" debug="true">
            <classpath>
                <path refid="path-Common-B2B"/>
            </classpath>
        </javac>
    </target>
    <target name="build-Hold-event" depends="init">
        <mkdir dir="classes/events/Hold-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/Hold-event" srcdir="src" includes="com/ptin/xmas/control/events/HoldEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/Hold-event.jar"
            classpath="classes/events/Hold-event" eventjarxml="src/com/ptin/xmas/control/events/Hold-event-jar.xml"/>
    </target>
    <target name="clean-Hold-event">
        <delete file="jars/Hold-event.jar"/>
        <delete dir="classes/events/Hold-event"/>
    </target>
    <target name="build-Wait-event" depends="init">
        <mkdir dir="classes/events/Wait-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/Wait-event" srcdir="src" includes="com/ptin/xmas/control/events/WaitEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/Wait-event.jar"
            classpath="classes/events/Wait-event" eventjarxml="src/com/ptin/xmas/control/events/Wait-event-jar.xml"/>
    </target>
    <target name="clean-Wait-event">
        <delete file="jars/Wait-event.jar"/>
        <delete dir="classes/events/Wait-event"/>
    </target>
    <target name="build-Reject-event" depends="init">
        <mkdir dir="classes/events/Reject-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/Reject-event" srcdir="src" includes="com/ptin/xmas/control/events/RejectEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/Reject-event.jar"
            classpath="classes/events/Reject-event" eventjarxml="src/com/ptin/xmas/control/events/Reject-event-jar.xml"/>
    </target>
    <target name="clean-Reject-event">
        <delete file="jars/Reject-event.jar"/>
        <delete dir="classes/events/Reject-event"/>
    </target>
    <target name="build-FromConnected-event" depends="init">
        <mkdir dir="classes/events/FromConnected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/FromConnected-event" srcdir="src" includes="com/ptin/xmas/control/events/FromConnectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/FromConnected-event.jar"
            classpath="classes/events/FromConnected-event" eventjarxml="src/com/ptin/xmas/control/events/FromConnected-event-jar.xml"/>
    </target>
    <target name="clean-FromConnected-event">
        <delete file="jars/FromConnected-event.jar"/>
        <delete dir="classes/events/FromConnected-event"/>
    </target>
    <target name="build-CallEstablished-event" depends="init">
        <mkdir dir="classes/events/CallEstablished-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/CallEstablished-event"
            srcdir="src" includes="com/ptin/xmas/control/events/CallEstablishedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/CallEstablished-event.jar"
            classpath="classes/events/CallEstablished-event" eventjarxml="src/com/ptin/xmas/control/events/CallEstablished-event-jar.xml"/>
    </target>
    <target name="clean-CallEstablished-event">
        <delete file="jars/CallEstablished-event.jar"/>
        <delete dir="classes/events/CallEstablished-event"/>
    </target>
    <target name="build-FromDisconnected-event" depends="init">
        <mkdir dir="classes/events/FromDisconnected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/FromDisconnected-event"
            srcdir="src" includes="com/ptin/xmas/control/events/FromDisconnectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/FromDisconnected-event.jar"
            classpath="classes/events/FromDisconnected-event" eventjarxml="src/com/ptin/xmas/control/events/FromDisconnected-event-jar.xml"/>
    </target>
    <target name="clean-FromDisconnected-event">
        <delete file="jars/FromDisconnected-event.jar"/>
        <delete dir="classes/events/FromDisconnected-event"/>
    </target>
    <target name="build-ToDisconnected-event" depends="init">
        <mkdir dir="classes/events/ToDisconnected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToDisconnected-event"
            srcdir="src" includes="com/ptin/xmas/control/events/ToDisconnectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToDisconnected-event.jar"
            classpath="classes/events/ToDisconnected-event" eventjarxml="src/com/ptin/xmas/control/events/ToDisconnected-event-jar.xml"/>
    </target>
    <target name="clean-ToDisconnected-event">
        <delete file="jars/ToDisconnected-event.jar"/>
        <delete dir="classes/events/ToDisconnected-event"/>
    </target>
    <target name="build-FromRejected-event" depends="init">
        <mkdir dir="classes/events/FromRejected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/FromRejected-event" srcdir="src" includes="com/ptin/xmas/control/events/FromRejectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/FromRejected-event.jar"
            classpath="classes/events/FromRejected-event" eventjarxml="src/com/ptin/xmas/control/events/FromRejected-event-jar.xml"/>
    </target>
    <target name="clean-FromRejected-event">
        <delete file="jars/FromRejected-event.jar"/>
        <delete dir="classes/events/FromRejected-event"/>
    </target>
    <target name="build-FromBusy-event" depends="init">
        <mkdir dir="classes/events/FromBusy-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/FromBusy-event" srcdir="src" includes="com/ptin/xmas/control/events/FromBusyEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/FromBusy-event.jar"
            classpath="classes/events/FromBusy-event" eventjarxml="src/com/ptin/xmas/control/events/FromBusy-event-jar.xml"/>
    </target>
    <target name="clean-FromBusy-event">
        <delete file="jars/FromBusy-event.jar"/>
        <delete dir="classes/events/FromBusy-event"/>
    </target>
    <target name="build-FromNoAnswer-event" depends="init">
        <mkdir dir="classes/events/FromNoAnswer-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/FromNoAnswer-event" srcdir="src" includes="com/ptin/xmas/control/events/FromNoAnswerEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/FromNoAnswer-event.jar"
            classpath="classes/events/FromNoAnswer-event" eventjarxml="src/com/ptin/xmas/control/events/FromNoAnswer-event-jar.xml"/>
    </target>
    <target name="clean-FromNoAnswer-event">
        <delete file="jars/FromNoAnswer-event.jar"/>
        <delete dir="classes/events/FromNoAnswer-event"/>
    </target>
    <target name="build-FromUnavailable-event" depends="init">
        <mkdir dir="classes/events/FromUnavailable-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/FromUnavailable-event"
            srcdir="src" includes="com/ptin/xmas/control/events/FromUnavailableEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/FromUnavailable-event.jar"
            classpath="classes/events/FromUnavailable-event" eventjarxml="src/com/ptin/xmas/control/events/FromUnavailable-event-jar.xml"/>
    </target>
    <target name="clean-FromUnavailable-event">
        <delete file="jars/FromUnavailable-event.jar"/>
        <delete dir="classes/events/FromUnavailable-event"/>
    </target>
    <target name="build-FromNetworkUnavailable-event" depends="init">
        <mkdir dir="classes/events/FromNetworkUnavailable-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/FromNetworkUnavailable-event"
            srcdir="src" includes="com/ptin/xmas/control/events/FromNetworkUnavailableEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/FromNetworkUnavailable-event.jar"
            classpath="classes/events/FromNetworkUnavailable-event" eventjarxml="src/com/ptin/xmas/control/events/FromNetworkUnavailable-event-jar.xml"/>
    </target>
    <target name="clean-FromNetworkUnavailable-event">
        <delete file="jars/FromNetworkUnavailable-event.jar"/>
        <delete dir="classes/events/FromNetworkUnavailable-event"/>
    </target>
    <target name="build-ToRejected-event" depends="init">
        <mkdir dir="classes/events/ToRejected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToRejected-event" srcdir="src" includes="com/ptin/xmas/control/events/ToRejectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToRejected-event.jar"
            classpath="classes/events/ToRejected-event" eventjarxml="src/com/ptin/xmas/control/events/ToRejected-event-jar.xml"/>
    </target>
    <target name="clean-ToRejected-event">
        <delete file="jars/ToRejected-event.jar"/>
        <delete dir="classes/events/ToRejected-event"/>
    </target>
    <target name="build-ToBusy-event" depends="init">
        <mkdir dir="classes/events/ToBusy-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToBusy-event" srcdir="src" includes="com/ptin/xmas/control/events/ToBusyEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToBusy-event.jar"
            classpath="classes/events/ToBusy-event" eventjarxml="src/com/ptin/xmas/control/events/ToBusy-event-jar.xml"/>
    </target>
    <target name="clean-ToBusy-event">
        <delete file="jars/ToBusy-event.jar"/>
        <delete dir="classes/events/ToBusy-event"/>
    </target>
    <target name="build-ToNoAnswer-event" depends="init">
        <mkdir dir="classes/events/ToNoAnswer-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToNoAnswer-event" srcdir="src" includes="com/ptin/xmas/control/events/ToNoAnswerEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToNoAnswer-event.jar"
            classpath="classes/events/ToNoAnswer-event" eventjarxml="src/com/ptin/xmas/control/events/ToNoAnswer-event-jar.xml"/>
    </target>
    <target name="clean-ToNoAnswer-event">
        <delete file="jars/ToNoAnswer-event.jar"/>
        <delete dir="classes/events/ToNoAnswer-event"/>
    </target>
    <target name="build-ToUnavailable-event" depends="init">
        <mkdir dir="classes/events/ToUnavailable-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events//ToUnavailable-event"
            srcdir="src" includes="com/ptin/xmas/control/events/ToUnavailableEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToUnavailable-event.jar"
            classpath="classes/events/ToUnavailable-event" eventjarxml="src/com/ptin/xmas/control/events/ToUnavailable-event-jar.xml"/>
    </target>
    <target name="clean-ToUnavailable-event">
        <delete file="jars/ToUnavailable-event.jar"/>
        <delete dir="classes/events/ToUnavailable-event"/>
    </target>
    <target name="build-ToNetworkUnavailable-event" depends="init">
        <mkdir dir="classes/events/ToNetworkUnavailable-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToNetworkUnavailable-event"
            srcdir="src" includes="com/ptin/xmas/control/events/ToNetworkUnavailableEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToNetworkUnavailable-event.jar"
            classpath="classes/events/ToNetworkUnavailable-event" eventjarxml="src/com/ptin/xmas/control/events/ToNetworkUnavailable-event-jar.xml"/>
    </target>
    <target name="clean-ToNetworkUnavailable-event">
        <delete file="jars/ToNetworkUnavailable-event.jar"/>
        <delete dir="classes/events/ToNetworkUnavailable-event"/>
    </target>
    <target name="build-IncomingCall-event" depends="init">
        <mkdir dir="classes/events/IncomingCall-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/IncomingCall-event" srcdir="src" includes="com/ptin/xmas/control/events/IncomingCallEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/IncomingCall-event.jar"
            classpath="classes/events/IncomingCall-event" eventjarxml="src/com/ptin/xmas/control/events/IncomingCall-event-jar.xml"/>
    </target>
    <target name="clean-IncomingCall-event">
        <delete file="jars/IncomingCall-event.jar"/>
        <delete dir="classes/events/IncomingCall-event"/>
    </target>
    <target name="build-FromRinging-event" depends="init">
        <mkdir dir="classes/events/FromRinging-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/FromRinging-event" srcdir="src" includes="com/ptin/xmas/control/events/FromRingingEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/FromRinging-event.jar"
            classpath="classes/events/FromRinging-event" eventjarxml="src/com/ptin/xmas/control/events/FromRinging-event-jar.xml"/>
    </target>
    <target name="clean-FromRinging-event">
        <delete file="jars/FromRinging-event.jar"/>
        <delete dir="classes/events/FromRinging-event"/>
    </target>
    <target name="build-ToRinging-event" depends="init">
        <mkdir dir="classes/events/ToRinging-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToRinging-event" srcdir="src" includes="com/ptin/xmas/control/events/ToRingingEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToRinging-event.jar"
            classpath="classes/events/ToRinging-event" eventjarxml="src/com/ptin/xmas/control/events/ToRinging-event-jar.xml"/>
    </target>
    <target name="clean-ToRinging-event">
        <delete file="jars/ToRinging-event.jar"/>
        <delete dir="classes/events/ToRinging-event"/>
    </target>
    <target name="build-ToConnected-event" depends="init">
        <mkdir dir="classes/events/ToConnected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToConnected-event" srcdir="src" includes="com/ptin/xmas/control/events/ToConnectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToConnected-event.jar"
            classpath="classes/events/ToConnected-event" eventjarxml="src/com/ptin/xmas/control/events/ToConnected-event-jar.xml"/>
    </target>
    <target name="clean-ToConnected-event">
        <delete file="jars/ToConnected-event.jar"/>
        <delete dir="classes/events/ToConnected-event"/>
    </target>
    <target name="build-CallRedirectionSuccess-event" depends="init">
        <mkdir dir="classes/events/CallRedirectionSuccess-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/CallRedirectionSuccess-event"
            srcdir="src" includes="com/ptin/xmas/control/events/CallRedirectionSuccessEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/CallRedirectionSuccess-event.jar"
            classpath="classes/events/CallRedirectionSuccess-event" eventjarxml="src/com/ptin/xmas/control/events/CallRedirectionSuccess-event-jar.xml"/>
    </target>
    <target name="clean-CallRedirectionSuccess-event">
        <delete file="jars/CallRedirectionSuccess-event.jar"/>
        <delete dir="classes/events/CallRedirectionSuccess-event"/>
    </target>
    <target name="build-CallRedirectionFailed-event" depends="init">
        <mkdir dir="classes/events/CallRedirectionFailed-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/CallRedirectionFailed-event"
            srcdir="src" includes="com/ptin/xmas/control/events/CallRedirectionFailedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/CallRedirectionFailed-event.jar"
            classpath="classes/events/CallRedirectionFailed-event" eventjarxml="src/com/ptin/xmas/control/events/CallRedirectionFailed-event-jar.xml"/>
    </target>
    <target name="clean-CallRedirectionFailed-event">
        <delete file="jars/CallRedirectionFailed-event.jar"/>
        <delete dir="classes/events/CallRedirectionFailed-event"/>
    </target>
    <target name="build-ToMediaUnsupported-event" depends="init">
        <mkdir dir="classes/events/ToMediaUnsupported-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToMediaUnsupported-event"
            srcdir="src" includes="com/ptin/xmas/control/events/ToMediaUnsupportedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToMediaUnsupported-event.jar"
            classpath="classes/events/ToMediaUnsupported-event" eventjarxml="src/com/ptin/xmas/control/events/ToMediaUnsupported-event-jar.xml"/>
    </target>
    <target name="clean-ToMediaUnsupported-event">
        <delete file="jars/ToMediaUnsupported-event.jar"/>
        <delete dir="classes/events/ToMediaUnsupported-event"/>
    </target>
    <target name="build-ToTrying-event" depends="init">
        <mkdir dir="classes/events/ToTrying-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/ToTrying-event" srcdir="src" includes="com/ptin/xmas/control/events/ToTryingEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/ToTrying-event.jar"
            classpath="classes/events/ToTrying-event" eventjarxml="src/com/ptin/xmas/control/events/ToTrying-event-jar.xml"/>
    </target>
    <target name="clean-ToTrying-event">
        <delete file="jars/ToTrying-event.jar"/>
        <delete dir="classes/events/ToTrying-event"/>
    </target>
    <target name="build-PeerDisconnected-event" depends="init">
        <mkdir dir="classes/events/PeerDisconnected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/PeerDisconnected-event"
            srcdir="src" includes="com/ptin/xmas/control/events/PeerDisconnectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/PeerDisconnected-event.jar"
            classpath="classes/events/PeerDisconnected-event" eventjarxml="src/com/ptin/xmas/control/events/PeerDisconnected-event-jar.xml"/>
    </target>
    <target name="clean-PeerDisconnected-event">
        <delete file="jars/PeerDisconnected-event.jar"/>
        <delete dir="classes/events/PeerDisconnected-event"/>
    </target>
    <target name="build-StatusInvitingPeer-event" depends="init">
        <mkdir dir="classes/events/StatusInvitingPeer-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusInvitingPeer-event"
            srcdir="src" includes="com/ptin/xmas/control/events/StatusInvitingPeerEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusInvitingPeer-event.jar"
            classpath="classes/events/StatusInvitingPeer-event" eventjarxml="src/com/ptin/xmas/control/events/StatusInvitingPeer-event-jar.xml"/>
    </target>
    <target name="clean-StatusInvitingPeer-event">
        <delete file="jars/StatusInvitingPeer-event.jar"/>
        <delete dir="classes/events/StatusInvitingPeer-event"/>
    </target>
    <target name="build-StatusPeerConnected-event" depends="init">
        <mkdir dir="classes/events/StatusPeerConnected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusPeerConnected-event"
            srcdir="src" includes="com/ptin/xmas/control/events/StatusPeerConnectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusPeerConnected-event.jar"
            classpath="classes/events/StatusPeerConnected-event" eventjarxml="src/com/ptin/xmas/control/events/StatusPeerConnected-event-jar.xml"/>
    </target>
    <target name="clean-StatusPeerConnected-event">
        <delete file="jars/StatusPeerConnected-event.jar"/>
        <delete dir="classes/events/StatusPeerConnected-event"/>
    </target>
    <target name="build-StatusPeerRinging-event" depends="init">
        <mkdir dir="classes/events/StatusPeerRinging-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusPeerRinging-event"
            srcdir="src" includes="com/ptin/xmas/control/events/StatusPeerRingingEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusPeerRinging-event.jar"
            classpath="classes/events/StatusPeerRinging-event" eventjarxml="src/com/ptin/xmas/control/events/StatusPeerRinging-event-jar.xml"/>
    </target>
    <target name="clean-StatusPeerRinging-event">
        <delete file="jars/StatusPeerRinging-event.jar"/>
        <delete dir="classes/events/StatusPeerRinging-event"/>
    </target>
    <target name="build-StatusOutcomFailed-event" depends="init">
        <mkdir dir="classes/events/StatusOutcomFailed-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusOutcomFailed-event"
            srcdir="src" includes="com/ptin/xmas/control/events/StatusOutcomFailedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusOutcomFailed-event.jar"
            classpath="classes/events/StatusOutcomFailed-event" eventjarxml="src/com/ptin/xmas/control/events/StatusOutcomFailed-event-jar.xml"/>
    </target>
    <target name="clean-StatusOutcomFailed-event">
        <delete file="jars/StatusOutcomFailed-event.jar"/>
        <delete dir="classes/events/StatusOutcomFailed-event"/>
    </target>
    <target name="build-StatusPeerDisconnected-event" depends="init">
        <mkdir dir="classes/events/StatusPeerDisconnected-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusPeerDisconnected-event"
            srcdir="src" includes="com/ptin/xmas/control/events/StatusPeerDisconnectedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusPeerDisconnected-event.jar"
            classpath="classes/events/StatusPeerDisconnected-event" eventjarxml="src/com/ptin/xmas/control/events/StatusPeerDisconnected-event-jar.xml"/>
    </target>
    <target name="clean-StatusPeerDisconnected-event">
        <delete file="jars/StatusPeerDisconnected-event.jar"/>
        <delete dir="classes/events/StatusPeerDisconnected-event"/>
    </target>
    <target name="build-StatusOncom-event" depends="init">
        <mkdir dir="classes/events/StatusOncom-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusOncom-event" srcdir="src" includes="com/ptin/xmas/control/events/StatusOncomEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusOncom-event.jar"
            classpath="classes/events/StatusOncom-event" eventjarxml="src/com/ptin/xmas/control/events/StatusOncom-event-jar.xml"/>
    </target>
    <target name="clean-StatusOncom-event">
        <delete file="jars/StatusOncom-event.jar"/>
        <delete dir="classes/events/StatusOncom-event"/>
    </target>
    <target name="build-StatusFinished-event" depends="init">
        <mkdir dir="classes/events/StatusFinished-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusFinished-event"
            srcdir="src" includes="com/ptin/xmas/control/events/StatusFinishedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusFinished-event.jar"
            classpath="classes/events/StatusFinished-event" eventjarxml="src/com/ptin/xmas/control/events/StatusFinished-event-jar.xml"/>
    </target>
    <target name="clean-StatusFinished-event">
        <delete file="jars/StatusFinished-event.jar"/>
        <delete dir="classes/events/StatusFinished-event"/>
    </target>
    <target name="build-Ack-event" depends="init">
        <mkdir dir="classes/events/Ack-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/Ack-event" srcdir="src" includes="com/ptin/xmas/control/events/AckEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/Ack-event.jar"
            classpath="classes/events/Ack-event" eventjarxml="src/com/ptin/xmas/control/events/Ack-event-jar.xml"/>
    </target>
	<target name="clean-Common-classes">
		<delete failonerror="false" includeemptydirs="true">
			<fileset dir="${project.home}/classes/com"/>
			<fileset dir="${mobicents.sar}/com/ptin/xmas/control" />
		</delete>		
	</target>
    <target name="clean-Ack-event">
        <delete file="jars/Ack-event.jar"/>
        <delete dir="classes/events/Ack-event"/>
    </target>
    <target name="build-Bye-event" depends="init">
        <mkdir dir="classes/events/Bye-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/Bye-event" srcdir="src" includes="com/ptin/xmas/control/events/ByeEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/Bye-event.jar"
            classpath="classes/events/Bye-event" eventjarxml="src/com/ptin/xmas/control/events/Bye-event-jar.xml"/>
    </target>
    <target name="clean-Bye-event">
        <delete file="jars/Bye-event.jar"/>
        <delete dir="classes/events/Bye-event"/>
    </target>
    <target name="build-StatusIncomAccepted-event" depends="init">
        <mkdir dir="classes/events/StatusIncomAccepted-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusIncomAccepted-event"
            srcdir="src" includes="com/ptin/xmas/control/events/StatusIncomAcceptedEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusIncomAccepted-event.jar"
            classpath="classes/events/StatusIncomAccepted-event" eventjarxml="src/com/ptin/xmas/control/events/StatusIncomAccepted-event-jar.xml"/>
    </target>
    <target name="clean-StatusIncomAccepted-event">
        <delete file="jars/StatusIncomAccepted-event.jar"/>
        <delete dir="classes/events/StatusIncomAccepted-event"/>
    </target>
    <target name="build-StatusIncomRinging-event" depends="init">
        <mkdir dir="classes/events/StatusIncomRinging-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/StatusIncomRinging-event"
            srcdir="src" includes="com/ptin/xmas/control/events/StatusIncomRingingEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/StatusIncomRinging-event.jar"
            classpath="classes/events/StatusIncomRinging-event" eventjarxml="src/com/ptin/xmas/control/events/StatusIncomRinging-event-jar.xml"/>
    </target>
    <target name="clean-StatusIncomRinging-event">
        <delete file="jars/StatusIncomRinging-event.jar"/>
        <delete dir="classes/events/StatusIncomRinging-event"/>
    </target>
    <target name="build-MediaChangeReq-event" depends="init">
        <mkdir dir="classes/events/MediaChangeReq-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/MediaChangeReq-event"
            srcdir="src" includes="com/ptin/xmas/control/events/MediaChangeReqEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/MediaChangeReq-event.jar"
            classpath="classes/events/MediaChangeReq-event" eventjarxml="src/com/ptin/xmas/control/events/MediaChangeReq-event-jar.xml"/>
    </target>
    <target name="clean-MediaChangeReq-event">
        <delete file="jars/MediaChangeReq-event.jar"/>
        <delete dir="classes/events/MediaChangeReq-event"/>
    </target>
    <target name="build-Registered-event" depends="init">
        <mkdir dir="classes/events/Registered-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/Registered-event" srcdir="src" includes="com/ptin/xmas/control/events/RegisteredEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/Registered-event.jar"
            classpath="classes/events/Registered-event" eventjarxml="src/com/ptin/xmas/control/events/Registered-event-jar.xml"/>
    </target>
    <target name="clean-Registered-event">
        <delete file="jars/Registered-event.jar"/>
        <delete dir="classes/events/Registered-event"/>
    </target>
    <target name="build-Unregistered-event" depends="init">
        <mkdir dir="classes/events/Unregistered-event"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/events/Unregistered-event" srcdir="src" includes="com/ptin/xmas/control/events/UnregisteredEvent.java" debug="true">
            <classpath>
                <path refid="slee"/>
            </classpath>
        </javac>
        <eventjar destfile="jars/Unregistered-event.jar"
            classpath="classes/events/Unregistered-event" eventjarxml="src/com/ptin/xmas/control/events/Unregistered-event-jar.xml"/>
    </target>
    <target name="clean-Unregistered-event">
        <delete file="jars/Unregistered-event.jar"/>
        <delete dir="classes/events/Unregistered-event"/>
    </target>
    <target name="build-BaseB2B-sbb" depends="init">
        <mkdir dir="classes/BaseB2B-sbb"/>
        <mkdir dir="jars/"/>
        <javac destdir="classes/BaseB2B-sbb" srcdir="src" includes="com/ptin/xmas/control/BaseB2BSbb.java" debug="true">
            <classpath>
                <path refid="path-Common-B2B"/>
                <path refid="path-BaseB2B-sbb"/>
                <path refid="slee"/>
            </classpath>
        </javac>
        <sbbjar destfile="jars/BaseB2B-sbb.jar"
            classpath="classes/BaseB2B-sbb" sbbjarxml="src/com/ptin/xmas/control/BaseB2B-sbb-jar.xml"/>
    	<!--
    	<jar jarfile="jars/BaseB2B-sbb.jar" basedir="classes" excludes="BaseB2B-sbb/**, events/**" update="true">
    		<fileset includes="com/**/*.class" dir=""/>
    	</jar>
    	-->
    	<jar jarfile="jars/BaseB2B-sbb.jar" basedir="classes/BaseB2B-sbb" excludes="events/**" update="true">
    		<fileset includes="com/**/*.class" dir=""/>
    	</jar>    	
    </target>
    <target name="clean-BaseB2B-sbb">
        <delete file="jars/BaseB2B-sbb.jar"/>
        <delete dir="classes/BaseB2B-sbb"/>
    </target>
    <target name="build-B2BUserAgent-DU" depends="build-Ack-event,
    											build-Bye-event,
    											build-CallEstablished-event,
    											build-CallRedirectionFailed-event,
    											build-CallRedirectionSuccess-event,
    											build-FromBusy-event,
    											build-FromConnected-event,
    											build-FromDisconnected-event,
    											build-FromNetworkUnavailable-event,
    											build-FromNoAnswer-event,
    											build-FromRejected-event,
    											build-FromRinging-event,
    											build-FromUnavailable-event,
    											build-Hold-event,
    											build-IncomingCall-event,
    											build-MediaChangeReq-event,
    											build-PeerDisconnected-event,
    											build-Registered-event,
    											build-Reject-event,
    											build-StatusFinished-event,
    											build-StatusIncomAccepted-event,
    											build-StatusIncomRinging-event,
    											build-StatusInvitingPeer-event,
    											build-StatusOncom-event,
    											build-StatusOutcomFailed-event,
    											build-StatusPeerConnected-event,
    											build-StatusPeerDisconnected-event,
    											build-StatusPeerRinging-event,
    											build-ToBusy-event,
    											build-ToConnected-event,
    											build-ToDisconnected-event,
    											build-ToMediaUnsupported-event,
    											build-ToNetworkUnavailable-event,
    											build-ToNoAnswer-event,
    											build-ToRejected-event,
    											build-ToRinging-event,
    											build-ToTrying-event,
    											build-ToUnavailable-event,
    											build-Unregistered-event,
    											build-Wait-event,
										    	build-BaseB2B-sbb">
        <mkdir dir="classes/B2BUserAgent-DU"/>
        <copy
            file="src/com/ptin/xmas/control/B2BUserAgent-deployable-unit.xml" tofile="classes/B2BUserAgent-DU/deployable-unit.xml"/>
        <jar jarfile="jars/B2BUserAgent-DU.jar">
            <metainf dir="classes/B2BUserAgent-DU" includes="deployable-unit.xml"/>
            <fileset includes="jars/BaseB2B-sbb.jar" dir=""/>
        	<fileset includes="jars/Ack-event.jar" dir=""/>
            <fileset includes="jars/Bye-event.jar" dir=""/>
            <fileset includes="jars/CallEstablished-event.jar" dir=""/>
            <fileset includes="jars/CallRedirectionFailed-event.jar" dir=""/>
            <fileset includes="jars/CallRedirectionSuccess-event.jar" dir=""/>
            <fileset includes="jars/FromBusy-event.jar" dir=""/>
            <fileset includes="jars/FromConnected-event.jar" dir=""/>
            <fileset includes="jars/FromDisconnected-event.jar" dir=""/>
            <fileset includes="jars/FromNetworkUnavailable-event.jar" dir=""/>
            <fileset includes="jars/FromNoAnswer-event.jar" dir=""/>
            <fileset includes="jars/FromRejected-event.jar" dir=""/>
            <fileset includes="jars/FromRinging-event.jar" dir=""/>
            <fileset includes="jars/FromUnavailable-event.jar" dir=""/>
            <fileset includes="jars/Hold-event.jar" dir=""/>
            <fileset includes="jars/IncomingCall-event.jar" dir=""/>
            <fileset includes="jars/MediaChangeReq-event.jar" dir=""/>
            <fileset includes="jars/PeerDisconnected-event.jar" dir=""/>
            <fileset includes="jars/Registered-event.jar" dir=""/>
            <fileset includes="jars/Reject-event.jar" dir=""/>
            <fileset includes="jars/StatusFinished-event.jar" dir=""/>
            <fileset includes="jars/StatusIncomAccepted-event.jar" dir=""/>
            <fileset includes="jars/StatusIncomRinging-event.jar" dir=""/>
            <fileset includes="jars/StatusInvitingPeer-event.jar" dir=""/>
            <fileset includes="jars/StatusOncom-event.jar" dir=""/>
            <fileset includes="jars/StatusOutcomFailed-event.jar" dir=""/>
            <fileset includes="jars/StatusPeerConnected-event.jar" dir=""/>
            <fileset includes="jars/StatusPeerDisconnected-event.jar" dir=""/>
            <fileset includes="jars/StatusPeerRinging-event.jar" dir=""/>
            <fileset includes="jars/ToBusy-event.jar" dir=""/>
            <fileset includes="jars/ToConnected-event.jar" dir=""/>
            <fileset includes="jars/ToDisconnected-event.jar" dir=""/>
            <fileset includes="jars/ToMediaUnsupported-event.jar" dir=""/>
            <fileset includes="jars/ToNetworkUnavailable-event.jar" dir=""/>
            <fileset includes="jars/ToNoAnsweEvent-event.jar" dir=""/>
            <fileset includes="jars/ToNoAnswer-event.jar" dir=""/>
            <fileset includes="jars/ToRejected-event.jar" dir=""/>
            <fileset includes="jars/ToRinging-event.jar" dir=""/>
            <fileset includes="jars/ToTrying-event.jar" dir=""/>
            <fileset includes="jars/ToUnavailable-event.jar" dir=""/>
            <fileset includes="jars/Unregistered-event.jar" dir=""/>
            <fileset includes="jars/Wait-event.jar" dir=""/>
            <fileset includes="src/com/ptin/xmas/control/B2BUserAgent-service.xml" dir="."/>
        	<!--
        	<fileset includes="classes/com/ptin/xmas/control/common/*.class" dir="."/>
        	<fileset includes="classes/com/ptin/xmas/control/common/interfaces/*.class" dir="."/>
        	<fileset includes="classes/com/ptin/xmas/control/common/exceptions/*.class" dir="."/>
        	-->
        </jar>
    </target>
	
    <target name="clean-B2BUserAgent-DU">
        <delete file="jars/B2BUserAgent-DU.jar"/>
        <delete dir="classes/B2BUserAgent-DU"/>
    </target>

	<target name="service-deploy" depends="clean,all" description="Deploys the Back-to-Back User Agent Service to JAIN SLEE">
		<echo>Deploy Back-to-Back User Agent Service</echo>
		<!--
		<copy todir="${mobicents.sar}/com">
			<fileset dir="${project.home}/classes/com"/>
		</copy>
		-->
        <copy file="src/incom.properties" tofile="${system.JBOSS_HOME}/bin/incom.properties"/>
		<exec dir="./jars" spawn="false" vmlauncher="true"
            os="Windows XP, Windows_NT, Windows 2000" executable="${basedir}/jars/DeployB2BUserAgentService.bat"/>
		<!--<exec dir="./jars" spawn="false" os="Solaris, SunOS" executable="${basedir}/jars/DeployB2BUserAgentService.sh"/>-->
	</target>	
	<target name="service-undeploy"
        description="Undeploys the AsteriskTester SBB from JBoss" depends="clean">
		<echo>Undeploy Back-to-Back User Agent Service</echo>
		<exec dir="./jars" spawn="false" vmlauncher="true"
            os="Windows XP, Windows_NT, Windows 2000" executable="${basedir}/jars/UndeployB2BUserAgentService.bat"/>
		<!-- There is still no undeployment script for unix environments -->
	</target>	
</project>
