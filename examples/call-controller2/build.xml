<?xml version="1.0" encoding="utf-8"?>
<project name="Example_build" default="deploy-all">

  <property name="home" value="${ant.file.Example_build}/../" />

  <target name="init">
    <condition property="executable" value="mvn.bat">
      <os family="windows"/>
    </condition>
    
    <property name="executable" value="mvn" />
  </target>

  <target name="deploy-all" depends="init">
    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../../resources/sip/pom.xml"/>
      <arg value="install"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../sip-services/pom.xml"/>
      <arg value="install"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../sip-services/proxy-service-du/pom.xml"/>
      <arg value="clean"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../../servers/media/pom.xml"/>
      <arg value="install"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../../resources/media/pom.xml"/>
      <arg value="install"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/pom.xml"/>
      <arg value="install"/>
    </exec>
  </target>

  <target name="undeploy-all" depends="init">
    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/pom.xml"/>
      <arg value="clean"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../../resources/media/pom.xml"/>
      <arg value="clean"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../../servers/media/pom.xml"/>
      <arg value="clean"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../sip-services/pom.xml"/>
      <arg value="clean"/>
    </exec>

    <exec executable="${executable}">
      <arg value="-f"/>
      <arg value="${home}/../../resources/sip/pom.xml"/>
      <arg value="clean"/>
    </exec>
  </target>

</project>
