<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">










<html>
  <head>
    <title>Sip-Servlets - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <!-- TODO: move this into JavaScript to patch the skin
      <div class="xright">  </div>
    -->
    <div id="leftColumn">
      <div id="navcolumn">
             <dl class=navgroup>
        <dd><ul>
              
    <li class="none">
              <a href="index.html">Introduction</a>
        </li>
              
                
              
      
            
            
              
            <li class="expanded">
              <a href="installation.html">Installation</a>
                <ul>
                  
    <li class="none">
              <a href="installation-tomcat.html">Tomcat Installation</a>
        </li>
                  
    <li class="none">
              <strong>Jboss Installation</strong>
        </li>
              </ul>
        </li>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
              <a href="examples/examples.html">Examples</a>
              </li>
              
    <li class="none">
              <a href="media.html">Media support</a>
        </li>
              
    <li class="none">
              <a href="security.html">Security</a>
        </li>
              
    <li class="none">
              <a href="stun.html">STUN suport</a>
        </li>
              
    <li class="none">
              <a href="ssmc/sip-servlets-managment.htm">Management Console</a>
        </li>
              
    <li class="none">
              <a href="roadmap.html">Roadmap</a>
        </li>
              
    <li class="none">
              <a href="license.html">License</a>
        </li>
              
    <li class="none">
              <a href="https://hudson.jboss.org/hudson/job/MobicentsSipServlets/">QA</a>
        </li>
              
    <li class="none">
              <a href="feedback.html">Feedback</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectMailingListList">Mailing lists</a>
        </li>
              
    <li class="none">
              <a href="source/browse/sip-servlets/">Source code</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectIssues">Issues</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project Documentation</dt>
        <dd><ul>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
              <a href="project-info.html">Project Information</a>
              </li>
          </ul></dd>
    </dl>
        </div>
      <script>
        // replace the java.net project tools with the navigation bar from Maven.
        // also get rid of "Get Involved" thingie too, while we are at it
        var pt = document.getElementById("projecttools");
        var nv = document.getElementById("navcolumn");
        
        while(pt.previousSibling!=null)
          pt.parentNode.removeChild(pt.previousSibling);
        
        pt.parentNode.insertBefore(nv,pt);
        pt.parentNode.removeChild(pt);
      </script>
      <script>
        // kill "description" h3 bar
        var ld = document.getElementById("longdescription");
        if(ld!=null) {
          for( n=ld.firstChild; n!=null; n=n.nextSibling ) {
            if(n.nodeType==1 && n.innerHTML=="Description" ) {
              n.parentNode.removeChild(n);
              break;
            }
          }
        }
      </script>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Installation Instructions</h2>
<div class="section"><h3>From the source (From the trunk, on Jboss 4.2.2.GA) </h3>
<p>Install <a href="http://www.jboss.org/products/jbossas" class="externalLink">Jboss 4.2.2.GA</a>
</p>
<p>Install <a href="http://maven.apache.org" class="externalLink">maven 2</a>
</p>
<p>Check out the sip-servlets project at <a href="https://sip-servlets.dev.java.net/source/browse/sip-servlets/" class="externalLink">https://sip-servlets.dev.java.net/source/browse/sip-servlets/</a>
 </p>
<p>Open up the pom.xml from sip-servlets-bootstrap project and change the following property jboss.home at the end of the file.<br />
Make it the same as your jboss root installation by example E:\servers\jboss-4.2.2.GA </p>
<p>Run <tt>mvn clean install -P jboss</tt>
 (-P jboss is to activate the jboss profile) from the project root (sip-servlets-bootstrap)</p>
<p>Open the project with Eclipse, You need to add the M2_REPO variable so that eclipse can locate the jar files.<br />
To do that right click on the project name, click on properties, go to 'java build path'.<br />
Click on Libraries Tab, then on 'Add Variable' button<br />
On the dialog popup, click on 'Configure variables' button<br />
On the new popup, click on 'New' button<br />
on the new popup(what a popup mess :-)),&#160; enter M2_REPO for the name input field<br />
and <i>your user directory</i>
/.m2/repository for the value.<br />
on windows <i>your user directory</i>
 shall be replaced by C:/Documents and Settings/Ranga by example.<br />
Then OK to all and close all remaining popups. This should compile without errors<br />
if it behaves otherwise mail me to jean.deruelle@gmail.com</p>
<p>To run the sip servlet container :<br />
Check that the following files have been copied during the <tt>mvn clean install -P jboss</tt>
</p>
<ul><li>in jboss_home/lib directory, there should be a sip-servlets-impl-0.3.jar</li>
<li>in jboss_home/lib directory, there should be a sip-servlets-spec-1.1.3.jar</li>
<li>in jboss_home/lib directory, there should be a jain-sip-api-1.2.1.jar</li>
<li>in jboss_home/lib directory, there should be a jain-sip-ri-1.2.1.jar</li>
<li>in jboss_home/lib directory, there should be a concurrent-1.3.4.jar</li>
<li>in jboss_home/lib directory, there should be a log4j-1.2.14.jar</li>
<li>in jboss_home/lib directory, there should be a commons-logging-1.1.jar</li>
</ul>
<p>Make a backup of your jboss_home/server/default/deploy/jboss-web.deployer/server.xml file<br />
Copy the server-jboss.xml located in docs to jboss_home/server/default/deploy/jboss-web.deployer and rename it to server.xml</p>
<p>Look for service tag in the server.xml file and modify the darConfigurationFileLocation attribute to map to your filesystem\ Now you need to modify some extra config files so that jboss can deploy war/sar2 files containing sip servlet application :</p>
<p>In your jboss_home\server\default\deploy\jboss-web.deployer\context.xml <br />
Add this attribute to the manager xml tag, <br />
<tt>className=&quot;org.mobicents.servlet.sip.core.session.SipStandardManager&quot;</tt>
</p>
<p>In your jboss_home\server\default\deploy\jboss-web.deployer\META-INF\jboss-service.xml :<br />
Modify the code attribute of the mbean tag so that it become <br />
<tt>code=&quot;org.mobicents.servlet.sip.startup.jboss.JBossSip&quot;</tt>
</p>
<p>In your jboss_home\server\default\deploy\jboss-web.deployer\META-INF\webserver-xmbean.xml :<br />
Modify the class xml tag of the mbean tag so that it become <br />
<tt>&lt;class&gt;org.mobicents.servlet.sip.startup.jboss.JBossSip&lt;/class&gt;</tt>
</p>
<p>You're all set ! </p>
<p>go to your jboss_home/bin directory<br />
run the following command<br />
<tt>run.bat</tt>
</p>
<p>make sure to run a <tt>mvn clean install</tt>
 at the root of simple-sip-servlet project and drop in the jboss_home\server\default\deploy directory the war file generated in target dir of simple-sip-servlet, you should see the deployment occuring. otherwise this file has not yet been updated with the latest steps or I screwed up somewhere.<br />
In any case send an email on the <a href="dev@sip-servlets.dev.java.net">issues mailing list</a>
 or <a href="servlets/ProjectIssues">file a bug</a>
 on the bugtracker if you encounter any problems.</p>
<p>To play with real examples check out the different examples located under <a href="https://sip-servlets.dev.java.net/source/browse/sip-servlets/trunk/sip-servlets-examples/" class="externalLink">location</a>
 from the svn repository. </p>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2008
    
          
  

  
  
  &nbsp;| Last Published: 04/14/2008
  &nbsp;| Version: 0.3
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
