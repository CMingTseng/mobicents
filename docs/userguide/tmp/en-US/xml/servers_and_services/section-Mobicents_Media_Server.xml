<?xml version='1.0'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % RH_ENTITIES SYSTEM "../Common_Content/Entities.ent">
%RH_ENTITIES;
<!ENTITY % RH_TRANS_ENTITIES SYSTEM "../Common_Content/Translatable-Entities.ent">
%RH_TRANS_ENTITIES;
]>

<section id="section-Mobicents_Media_Server">
	<title>Mobicents Media Server</title>
	<para>
	</para>
	<section id="section-Overview_of_the_Mobicents_Media_Server">
		<title>Overview of the Mobicents Media Server</title>
		<formalpara>
			<title>The Reasoning and Need for Media Servers</title>
			<para>
				With the continued progress of globalization, more corporations than ever before have workgroups spread across countries and continents across the world. To support and increase the productivity of remote and telecommuting workgroups, communications companies are considering more cost effective network solutions that combine voice, wireless, data and video functionality. Businesses like these expect that the services they select and eventually implement will have call quality comparable to conventional telephone service, and they expect those services to boost productivity and reduce overall communications costs. Acquiring these desired network services requires connections from the Internet and wireless and wireline networks to Public Switched Telephone Networks (<acronym>PSTN</acronym>s) using a flexible, robust, scalable and cost-effective media gateway. The ability of such gateways to reduce overall communications costs for dispersed workgroups forms the foundation for media services and servers.
			</para>
		</formalpara>
		<formalpara>
			<title>Media Gateways Bridge Multiple Technologies</title>
			<para>
				Today, all communications can be routed through computers. Widespread access to broadband Internet and the ubiquity of Internet Protocol (<acronym>IP</acronym>) enable the convergence of voice, data and video. Media gateways provide the ability to switch voice media between a network and its access point. Using Digital Subscriber Line (<acronym>DSL</acronym>) and fast-Internet cable technology, a media gateway converts, compresses and packetizes voice data for transmission back-and-forth across the Internet backbone for wireline and wireless phones. Media gateways sit at the intersection of the PSTNs and wireless or IP-based networks.
			</para>
		</formalpara>
		<formalpara>
			<title>The Justification for Media Gateways for VoIP</title>
			<para>
				Multiple market demands are pushing companies to converge all of their media services using media gateways with VoIP capabilities. Companies expect such a convergent architecture to:
			</para>
		</formalpara>
		<variablelist>
			<title>Company Expectations of a Convergent Architecture</title>
			<varlistentry>
				<term>Lower Initial Costs</term>
				<listitem>
					<para>
						Capital investment is decreased because low-cost commodity hardware can be used for multiple functions.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Lower Development Costs</term>
				<listitem>
					<para>
						Open system hardware and software standards with well-defined applications mean lower costs, and Application Programmable Interfaces (<acronym>API</acronym>s) accelerate development.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Handle Multiple Media Types</term>
				<listitem>
					<para>
						Companies want <acronym>VoIP</acronym> solutions today, but also need to choose extensible solutions that will handle video in the near future.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Lower the Costs of Deployment and Maintenance</term>
				<listitem>
					<para>
						Standardized, modular systems reduce training costs and maintenance while also improving uptime.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Enable Rapid Time-to-Market</term>
				<listitem>
					<para>
						Early market entry hits the window of opportunity and maximizes revenue.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<formalpara>
			<title>What Is the Mobicents Media Server?</title>
			<para>
				The Mobicents Media Gateway is an open source Media Server based on the Java Media Framework and aimed to:
			</para>
		</formalpara>
		<itemizedlist>
			<listitem>
				<para>
					Deliver competitive, complete, best-of-breed media gateway functionality of the highest quality.
				</para>
			</listitem>
			<listitem>
				<para>
					Meet the demands of converged wireless and wireline networks, DSL and cable broadband access, and fixed-mobile converged <acronym>VoIP</acronym> networks from a single&mdash;and singularly-capable&mdash;media gateway platform.
				</para>
			</listitem>
			<listitem>
				<para>
					Increase flexibility with a media gateway that supports a wide variety of call control protocols and scales to meet the demands of enterprises and small-carrier providers.
				</para>
			</listitem>
		</itemizedlist>
	</section>
	
	<section id="section-Media_Server_Architecture">
		<title>Media Server Architecture</title>
		<para>
			Media services have played an important role in the traditional Time Division Multiplexing (<acronym>TDM</acronym>)-based telephone network. As the network migrates to an Internet Protocol (<acronym>IP</acronym>)-based environment, media services are also moving to new environments.
		</para>
		<para>
			One of the most exciting trends is the emergence and adoption of complementary modular standards that leverage the Internet to enable media services to be developed, deployed and updated more rapidly than before in a network architecture that supports the two concepts we will call provisioning-on-demand and scaling-on-demand.
		</para>
		<formalpara>
			<title>General Design Overview</title>
			<para>
				Mobicents Media Server is developed on top of existing Java technologies. The Java platform is the ideal platform for network computing. It offers a single, unifying programming model that can connect all elements of a business infrastructure. The modularization effort is supported by the use of the Java Management Extension (<acronym>JMX</acronym>) <acronym>API</acronym>, and the industry-standard Service Logic Execution Environment (<acronym>SLEE</acronym>) container. Using JMX enables easy management of both the server&#39;s media components and the control modules hosted by <acronym>SLEE</acronym>.
			</para>
		</formalpara>
		<para>
			This high degree of modularity benefits the application developer in several ways. The already-tight code can be further trimmed down to support applications that must have small footprints. For example, if <acronym>PSTN</acronym> (Public Switched Telephone Network) interconnection is unnecessary in your application, then simply take the D-channel feature out of the server. If you later decide to deploy the same application within a Signaling System 7 (<acronym>SS7</acronym>) network, then simply enable the appropriate endpoint. Another example is the freedom you have to drop your favorite media control protocol directly into the <acronym>SLEE</acronym> container.
		</para>
		<figure id="figure-Media_Server_Overview">
			<title>Media Server Overview</title>
			<mediaobject>
				<imageobject>
					<imagedata align="center" fileref="images/orig-ms-general.jpg" format="JPG" />
				</imageobject>
			</mediaobject>
		</figure>
		<para>
			The components that are involved in media processing or endpoints are implemented with <acronym>JMF</acronym>, the Java Media Framework. JMF provides a platform-neutral framework for displaying time-sensitive media. The <acronym>JMF</acronym><acronym>API</acronym>:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					Scales across different protocols and delivery mechanisms
				</para>
			</listitem>
			<listitem>
				<para>
					Scales across different types of media data
				</para>
			</listitem>
			<listitem>
				<para>
					Provides an event model for asynchnronous communication between JMF and applications or applets
				</para>
			</listitem>
		</itemizedlist>
		<para>
			The <acronym>JMF</acronym> architecture allows advanced developers nto create and integrate new types of controllers and data sources. The <acronym>JMF</acronym><acronym>API</acronym> declares abstract interfaces which are used for handling new media sources and sinks such as audio and video files, <acronym>PSTN</acronym> cards, webcams, etc.
		</para>
		<para>
			The Media Server architecture assumes that call control intelligence is outside of the Media Server and handled by an external entity. The Mebia Server assumes that call controllers will use control procedures such as <acronym>MGCP</acronym>, Mecago or <acronym>MSML</acronym>, among others. Each specific control module can be plugged in directly to the server as a standard <acronym>SLEE</acronym> deployable unit. The usage of a <acronym>SLEE</acronym> container for the implementation of the control protocol-specific communication logic provides simple deployment and also the easy deployment of such control modules. The developer will not have to mess with low-level transaction and state management details, multi-threading, connection-pooling and other similar complex, low-level <acronym>API</acronym>s.
		</para>
		<note>
			<para>
				The Mobicents Media Server uses <acronym>SLEE</acronym> for implementing its own communication capabilities. The <acronym>SLEE</acronym> container doesn&#39;t serve here as a call controller.
			</para>
		</note>
		<para>
			In addition to control protocol modules, the <acronym>SLEE</acronym> container is aimed at providing high-level features like Interactive Voice Response (<acronym>IVR</acronym>) and Drools or VoiceXML engines.
		</para>
		<para>
			The mobdules deployed under <acronym>SLEE</acronym> control interact with the Media Server Service Provider Interface (<acronym>SPI</acronym>) through the Media Server Control Resource Adapter, or <acronym>MSC-RA</acronym>. The <acronym>MSC-RA</acronym> follows the recommendations of JSR-309 and implements asynchronous interconnection with the Media Server <acronym>SPI</acronym> stack. This local implementation is restricted and does not all the use of high-level abstractions like VoiceXML dialogs, <abbrev>etc.</abbrev>.
		</para>
		<formalpara>
			<title>Typical Deployment Scenario</title>
			<para>
				Mobicents Media Server offers a complete solution for all aspects of being a media gateway and server. This includes the Digital Signal Processors required to covert and compress <acronym>TDB</acronym> voice circuits into <acronym>IP</acronym> packets, announcement access points, conferencing, high-level IVR engines, <abbrev>etc.</abbrev> The gateway is able to provide signaling conversation and can operate as a Session Border Controller at the boundaries of Local Access Networks. The Media Server is always controlled by an external <acronym>JBCP</acronym> application server which implements the call control logic.
			</para>
		</formalpara>
		<formalpara>
			<title>Endpoints</title>
			<para>
				It is convenient to consider a media gateway as a collection of endpoints. An endpoint is a logical representation of a physical entity such as an analog phone or a channel in a trunk. Endpoints are sources or sinks of data and can be physical or virtual. Physical endpoint creation requires hardware installation whil esoftware is sufficient for creating a virtual endpoint. An interface on a gateway that terminates a trunk connected to a PSTN switch is an example of a physical endpoint. An audio source in an audio content server is an example of a virtual endpoint.
			</para>
		</formalpara>
		<para>
			The type of the endpoint determines its functionality. Our analysis, so far, has led us to isolate the following basic endpoint types:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					Digital Signal 0 (<acronym>DS0</acronym>)
				</para>
			</listitem>
			<listitem>
				<para>
					Analog line
				</para>
			</listitem>
			<listitem>
				<para>
					Announcement server access point
				</para>
			</listitem>
			<listitem>
				<para>
					Conference bridge acces point
				</para>
			</listitem>
			<listitem>
				<para>
					Packet relay
				</para>
			</listitem>
			<listitem>
				<para>
					Asynchronous Transfer Mode (<acronym>ATM</acronym>) "trunk side" interface
				</para>
			</listitem>
		</itemizedlist>
		<para>
			This list is not exhaustive: there may be other types of endpoints defined in the future, for example test endpoints that could be used to check network quality, or frame-relay endpoints that could be used to manage audio channels multiplexed over a frame-relay virtual circuit.
		</para>
		<variablelist>
			<title>Description of Various Access Point Types</title>
			<varlistentry>
				<term>Announcement Server Access Point</term>
				<listitem>
					<para>
						An announcement server endpoint naturally provides access to an announcement server. Upon receiving requests from the call agent, the announcement server will "play" a specified announcement. A given announcement endpoint is not expected to support more than one connection at a time. Connections to an announcement server are typically one-way, or "half-duplex":the announcement server is not expected to listen to the audio signals from the connection.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Interactive Voice Response Access Point</term>
				<listitem>
					<para>
						An Interactive Voice Repsonse (<acronym>IVR</acronym>) endpoint provides access to an <acronym>IVR</acronym> service. Upon requests from the call agent, the <acronym>IVR</acronym> server will "play" announcements and tones, and will "listen" to responses, such as (<acronym>DTMF</acronym>) input or voice messages, from the user. A given <acronym>IVR</acronym> endpoint is not expected to support more than one connection at a time.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Conference Bridge Access Point</term>
				<listitem>
					<para>
						A conference bridge endpoint is used to provide access to a specific conference. Media gateways should be able to establish several connections between the endpoint and the packet networks, or between the endpoint and other endpoints in the same gateway. The signals originating from these connections shall be mixed according to the connection "mode" (as specified later in this document). The precise number of connections that an endpoint supports is characteristic of the gateway, and may in fact vary according to the alloction of resources within the gateway.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Packet Relay</term>
				<listitem>
					<para>
						A packet relay endpoint is a specific form of conference bridge that typically only supports two connections. Packet relays can be found in firewalls between a protected and an open network, or in transcoding servers used to provide interoperation between incompatible gateways, such as gateways which don&#39;t support compatible compression algorithms, or gateways that operate over different transmission networks such as IP and ATM.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<formalpara>
			<title>Signal Generators (<acronym>SG</acronym>s) and Signal Detectors (<acronym>SD</acronym>s)</title>
			<para>
				This endpoint contains a set of resources which provide the media-processing functionality. It manages the interconnection of media streams between the resources, and arbitrates the flow of media stream data between them. Media services&mdash;or commands&mdash; are invoked by a client application on the endpoint; that endpoint causes the resources to perform the desired services, and directs events sent by the resources to the appropriate client. The resources in the endpoint include a primary resource and zero or more secondary resources. The primary resource is typically connected to an external media stream, and provides the data from that stream to the secondary resources. The secondary resources may process that stream (<abbrev>e.g.</abbrev> by recording it and/or performing automatic speech recognition on it), or may themselves generate generate media stream data (<abbrev>e.g.</abbrev> by playing a voice file) which is then transmitted to the primary resource.
			</para>
		</formalpara>
		<para>
			A resource is statically prepared if the preparation takes place at the time of creation. A resource is dynamically prepared if preparation of a particular resource (and its associated media streams) does not occur until it is required by a media operation. Static preparation can lead to less efficient usage of a server&#39;s resources, because resources may tend to be allocated for a longer time before use. However, once a resource has been prepared, it is guaranteed to be available for use. Dynamic preparation may utilize resources more efficiently because of Just-In-Time (<acronym>JIT</acronym>) allocation algorithms may be used.
		</para>
		<para>
			An endpoint is divided logically into a Service Provider Interface (<acronym>SPI</acronym>) that is used to implement specific a endpoint, and a management interface which is used for implementing manageable resources of that endpoint. All endpoints are plugged into the Mobicents <acronym>SLEE</acronym> server by registering with the MBean server. The kernel in that sense is only an aggregator, and not a source of actual functionality. The functionality is provided by the <acronym>SPI</acronym> implementation of the Mbeans, and in fact, all major endpoints are manageable MBeans interconnected through the MBean server. The best way to add endpoints to a Media Server is to write a new <acronym>JMX</acronym> bean which provides implementation of the endpoint&#39;s <acronym>SPI</acronym>.
		</para>
		<para>
			The <acronym>SPI</acronym> layer is an abstraction that endpoint providers must implement to enable their media-processing features. An implementation of <acronym>SPI</acronym> for an endpoint is referred to as an <emphasis>Endpoint Provider</emphasis>.
		</para>
		<figure id="figure-EndpointManagementMBean_UML_Diagram">
			<title>EndpointManagementMBean UML Diagram</title>
			<mediaobject>
				<imageobject>
					<imagedata align="center" fileref="images/orig-endpoint.png" format="PNG" width="700" />
				</imageobject>
			</mediaobject>
		</figure>
	</section>

</section>


