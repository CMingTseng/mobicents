<?xml version='1.0'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter
	id="chapter-Installation">
	<title>Installation</title>
	<para></para>
	<section
		id="section-Installing_the_Mobicents_Binary_Distribution">
		<title>Installing the Mobicents Binary Distribution</title>
		<para>The Mobicents Converged Application Server runs on top of the JBoss Application Server. The Mobicents 1.20 binary distribution comes bundled with the JBoss Application Server version 4.2.2 GA.</para>
		<formalpara
			id="fpara-Hardware_Requirements_for_the_Binary_Distribution">
			<title>Hardware Requirements for the Binary Distribution</title>
			<para>Both the Mobicents Converged Application Server and the JBoss Application Server are 100% Java. Mobicents will run on the same hardware that the JBoss Application Server runs on.</para>
		</formalpara>
		<formalpara
			id="fpara-Pre-Install_Requirements_for_the_Binary_Distribution">
			<title>Pre-Install Requirements for the Binary Distribution</title>
			<para>You should ensure a couple of things before downloading and installing the Mobicents binary release:</para>
		</formalpara>
		<itemizedlist
			id="itemlist-Binary_Distribution_Installation_Requirements">
			<listitem>
				<para>You must have sufficient disk space in order to install the Mobicents binary release. Once unzipped, version 1.20 of the Mobicents binary release requires about 230 MB of free disk space. Keep in mind that disk space requirements may change from release to release.</para>
			</listitem>
			<listitem>
				<para>A working installation of Java 1.5 or higher is required in order to run Mobicents and the JBoss Application Server.</para>
			</listitem>
		</itemizedlist>
		<formalpara>
			<title>Installing the Mobicents Binary</title>
			<para>Once the preconditions and requirements have been met, you are ready to install the Mobicents binary distribution.</para>
		</formalpara>
		<procedure
			id="procedure-Downloading_and_Verifying_the_Mobicents_Distribution">
			<step>
				<para>First, Download the latest version of the Mobicents binary distribution. The latest version can be found by going to the <ulink
						url="https://sourceforge.net/projects/mobicents/">Mobicents project page on SourceForge.net</ulink>, clicking on <emphasis>Download Mobicents</emphasis>, and then looking for <emphasis>Mobicents Server</emphasis> and <emphasis>Latest Version</emphasis>.</para>
			</step>
			<step>
				<para>Then verify the integrity of the zip file. Along with the zip file there is a sha1 file<footnote><para>For the Mobicents 1.20 binary release, the relevant file names are <filename>mobicents-all-1_2_0_BETA1.zip</filename> and <filename>mobicents-all-1_2_0_BETA1.zip.sha1.asc</filename>.</para>
					</footnote> which contains a checksum that can be used to verify the integrity of the zip file, and can alert you if the file has been changed since it was uploaded, or if it was corrupted upon download.</para>
				<para>On a Linux system you can use the <command>sha1sum</command> command to verify the integrity of the binary distribution zip file.</para>
				<para>On a Windows system you will need to download a sha1sum-generating program such as the <command>sha1sum.exe</command> program. This will generate a checksum that you can compare with the sum in the sha1 file.</para>
				<para>Note that if the two checksums are not identical, it means that the downloaded zip file was corrupted upon download, or has been changed since it was last uploaded to the server.</para>
			</step>
			<step>
				<para>Finally, install the Mobicents Converged Application Server. Unzip the Mobicents binary distribution zip file to the location where you want it, thus completing the install.</para>
			</step>
		</procedure>
	</section>
	<section
		id="section-Building_the_Mobicents_1.2.x_Series">
		<title>Building the Mobicents 1.2.x Series</title>
		<para>Besides simply installing the latest binary Mobicents release, you can also build the Mobicents Converged Application Server from source. There are several reasons for building Mobicents from source, including getting access to new features such as the latest resource adapters, bundled servers and examples, getting full support for debugging, and accessing extra documentation.</para>
		<para>Note that building Mobicents from source requires a working installation of JBoss 4.2. This section on building Mobicents from source also includes the steps necessary for installing the JBoss 4.2.2 binary distribution.</para>
		<formalpara
			id="fpara-Hardware_Requirements_for_the_Source_Distribution">
			<title>Hardware Requirements for the Source Distribution</title>
			<para>Both the Mobicents Converged Application Server and the JBoss Application Server are 100% Java. Mobicents will run on the same hardware that the JBoss Application Server runs on.</para>
		</formalpara>
		<formalpara
			id="fpara-Pre-Install_Requirements_for_the_Source_Distribution">
			<title>Pre-Install Requirements for the Source Distribution</title>
			<para>You should ensure a few things before downloading and installing the JBoss binary distribution and the Mobicents source:</para>
		</formalpara>
		<itemizedlist
			id="itemlist-Source_Distribution_Installation_Requirements">
			<listitem>
				<para>You must have sufficient disk space in order to install the Mobicents source as well as the JBoss binary distribution. The Mobicents source, once fetched from the development Subversion repository, will consume about 230 MB of disk space. In addition to this, the JBoss Application Server binary distribution requires approximately 140 MB, meaning that you should probably have <emphasis>at least</emphasis> 400 MB of free disk space available. Keep in mind also that disk space requirements may change with subsequent updates to the development repository.</para>
			</listitem>
			<listitem>
				<para>A working installation of Java 1.5 or higher is required in order to run Mobicents and the JBoss Application Server.</para>
			</listitem>
			<listitem>
				<para>A way to download files. We will use the wget utility in the subsequent sections, but any common web browser will do.</para>
			</listitem>
			<listitem>
				<para>The Subversion version control system.</para>
			</listitem>
			<listitem>
				<para>The Apache Ant build tool. Mobicents includes this in its distribution, but we will need Ant in order to then build the Ant that comes bundled with the distribution.</para>
			</listitem>
		</itemizedlist>
		<formalpara
			id="fpara-Downloading_and_Installing_the_Jboss_Binary_Distribution">
			<title>Downloading and Installing the Jboss Binary Distribution</title>
			<para>Once the pre-install requirements have been met, you are ready to start. We will split the entire procedure, which isn't long but may take a while depending on the speed of your Internet connection, into two parts: in the first we will install JBoss; in the second, we will download and build Mobicents.</para>
		</formalpara>
		<procedure
			id="procedure-Downloading_and_Installing_JBoss">
			<title>Downloading and Installing JBoss</title>
			<step>
				<para>First, move to the directory that you want to install JBoss into, and download the JBoss 4.2.2 General Availability (<acronym>GA</acronym>) binary distribution <footnote
						id="jboss_sourceforge_link"><para>If the given direct link to JBoss 4.2.2 <acronym>GA</acronym> doesn't work for you, try instead to find the binary JBoss distribution here, <ulink
								url="http://surfnet.dl.sourceforge.net/sourceforge/jboss/"/>, or by searching for the project on <ulink
								url="http://sourceforge.net">Sourceforge.net</ulink>
						</para>
					</footnote>:</para>
				<screen>
cd &lt;directory_to_install_jboss_into&gt;
wget http://surfnet.dl.sourceforge.net/sourceforge/jboss/jboss-4.2.2.GA.zip
				</screen>
			</step>
			<step>
				<para>Next, assuming you want to install JBoss in the same directory you downloaded the zip file distribution to, unzip it:</para>
				<screen>
unzip jboss-4.2.2.GA.zip
				</screen>
			</step>
			<step>
				<para>Finally, we must set the <envar>JBOSS_HOME</envar> environment variable. The quick-and-easy way to set it for the current session, but which will not last beyond the next reboot, is to <command>export</command> the variable on the command line, and then to <command>echo</command> the variable to make sure that it contains the right directory. For example:</para>
				<screen>
export JBOSS_HOME=&quot;${PWD}/jboss-4.2.2.GA&quot;
echo $JBOSS_HOME
/home/my_name/jboss/jboss-4.2.2.GA
				</screen>
				<para>If the <command>echo</command> command doesn't produce any output, make sure that you are in the directory that you unzipped the JBoss binary distribution zip file to, and that the name of that directory is correct in the <command>export</command> command (i.e., that the file name hasn't changed in some subtle way).</para>
				<para>Alternatively, you can set the <envar>JBOSS_HOME</envar> environment variable permanently in the startup file for your shell. If you are using the Bash shell, this would mean inserting the following line into your <filename>~/.bashrc</filename> file (and making sure that the pathname is absolute): <screen>
export JBOSS_HOME=&quot;&lt;unzip_directory&gt;/jboss-4.2.2.GA&quot;
					</screen>
				</para>
			</step>
		</procedure>
		<para>Now that the JBoss Application Server has been successfully installed, we will download the source to the Mobicents Converged Application Server with Subversion, and build it.</para>
		<formalpara
			id="fpara-Downloading_the_Source_and_Building_Mobicents">
			<title>Downloading the Source and Building Mobicents</title>
			<para></para>
		</formalpara>
		<procedure
			id="procedure-Downloading_the_Source_and_Building_Mobicents">
			<step>
				<para>First, move to the directory that you want to install Mobicents into, create a directory named <filename>mobicents</filename> into which you'll install everything, and then use Subversion to get the latest sources:</para>
				<screen>
cd &lt;directory_to_install_mobicents_source_into&gt;
mkdir mobicents
svn co http://mobicents.googlecode.com/svn/trunk mobicents
</screen>
			</step>
			<step>
				<para>Once Subversion has finished acquiring the latest revision of the sources, which may take a while, then we will then proceed to build Mobicents:</para>
				<screen>
ant -f mobicents/core/build.xml
BUILD SUCCESSFUL
Total time: 6 seconds
				</screen>
			</step>
		</procedure>
		<para>TBD: Close with a sentence and direct the reader with a ulink to the Running Mobicents (which was installed from source) chapter. Issues that need to be addressed in this chapter include: installing GWT 1.3, which only comes in source for x86 (not version 1.4) and then building the management console.This chapter will have to be expanded with those instructions.</para>
		<remark>(04:34:14 AM) Luis Barreirao: to deploy management console you have to run ant -f tools/management-console/build.xml (I think before this you have to download GWT ... )
(04:34:32 AM) dsilas@gmail.com/Gaim: it should have occurred to me that building mobicents after setting jboss_home might cause the build script to install stuff into jboss...but I didn't think it would do that
(04:36:11 AM) Luis Barreirao: yes, JBOSS_HOME is needed for two reasons: 1- there are some libs there that must be referenced in order to compile ....
(04:36:14 AM) dsilas@gmail.com/Gaim: google web toolkit maybe?
(04:36:46 AM) Luis Barreirao: 2- to copy the result to the deploy folder ....
(04:37:18 AM) Luis Barreirao: yep - Google Web Toolkit.
(04:37:19 AM) Luis Barreirao: not the latest version ... it will display only a blank page.
(04:37:52 AM) Luis Barreirao: if the latest is 1.4, then you must use 1.3 ....
(04:38:05 AM) dsilas@gmail.com/Gaim: install it where?
(04:38:37 AM) Luis Barreirao: wherever you want ;) ... then define GWT_HOME
(04:43:15 AM) dsilas@gmail.com/Gaim: is debugging not possible with the binary distribution then?
(04:46:44 AM) Luis Barreirao: it can be done, but you'll need the source for the binary ...
(04:47:16 AM) Luis Barreirao: .. if you want to put breakpoints and go step-by-step, you should have the source.</remark>
	</section>
	<section
		id="section-Installing_EclipSLEE">
		<title>Installing EclipSLEE: The JAIN SLEE Eclipse Plugin</title>
		<para>The Mobicents project's EclipSLEE Plugin for the Eclipse <acronym>IDE</acronym> enables and facilitates working with Mobicents and JAIN SLEE. In particular, EclipSLEE is designed to help in the creation of the following <acronym>JAIN SLEE</acronym> components:</para>
		<itemizedlist>
			<listitem>
				<para>Profile Specifications</para>
			</listitem>
			<listitem>
				<para>Events</para>
			</listitem>
			<listitem>
				<para>Service Building Blocks (<acronym>SBB</acronym>s)</para>
			</listitem>
			<listitem>
				<para>Service XML Descriptors</para>
			</listitem>
			<listitem>
				<para>Deployable Units</para>
			</listitem>
		</itemizedlist>
		<para>With the EclipSLEE plugin, developers can construct complete services quickly and easily. The plug-in takes care of ensuring that the XML descriptors are correct, as well as creating skeleton Java classes to which developers can add service logic.</para>
		<formalpara>
			<title>How to Install EclipSLEE Eclipse Plugin</title>
			<para>EclipSLEE can be installed simply by adding the URL of the Update site. In Eclipse, click on 
			<menuchoice>
				<guimenu>Help</guimenu>
					<guimenuitem>Software Updates</guimenuitem>
					<guimenuitem>Find and Install...</guimenuitem>
				</menuchoice>. The <literal>Install/Update</literal> dialog box will pop up. Choose the second option, <menuchoice><guimenuitem>Search for new features to install</guimenuitem>
				</menuchoice>, and click next to be presented with the <literal>Install</literal> dialog. On the right-hand side, click the <guibutton>New Remote Site...</guibutton> button to be presented with the <literal>New Update Site</literal> dialog. For the Name field, enter <userinput>EclipSLEE</userinput>, and in the <literal>URL</literal> field, enter the URL of the remote site: <userinput>http://people.redhat.com/vralev/eclipslee/update/</userinput>. Press <guibutton>OK</guibutton> to return to the <literal>Install</literal> dialog. Check the just-added <literal>EclipSLEE</literal> site and click the <guibutton>Finish</guibutton> button. Eclipse will then prompt you to read and accept the license agreement, and will also ask you whether you want to install all components. After following the instructions of Eclipse's plugin install wizard, the EclipSLEE plugin will be downloaded and installed (usually to the shared Eclipse plugins directory, unless you have directed Eclipse to install to another location). Restarting Eclipse is required in order to initialize the EclipSLEE plugin so that it can be used.</para>
		</formalpara>
	</section>
</chapter>


