<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">










<html>
  <head>
    <title>Sip-Servlets - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <!-- TODO: move this into JavaScript to patch the skin
      <div class="xright">  </div>
    -->
    <div id="leftColumn">
      <div id="navcolumn">
             <dl class=navgroup>
        <dd><ul>
              
    <li class="none">
              <a href="index.html">Introduction</a>
        </li>
              
    <li class="none">
              <a href="install.html">Install</a>
        </li>
              
    <li class="none">
              <a href="examples/examples.html">Examples</a>
        </li>
              
    <li class="none">
              <a href="roadmap.html">Roadmap</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectMailingListList">Mailing lists</a>
        </li>
              
    <li class="none">
              <a href="source/browse/sip-servlets/">Source code</a>
        </li>
              
    <li class="none">
              <a href="servlets/ProjectIssues">Issues</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project Documentation</dt>
        <dd><ul>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
              <a href="project-info.html">Project Information</a>
              </li>
          </ul></dd>
    </dl>
        </div>
      <script>
        // replace the java.net project tools with the navigation bar from Maven.
        // also get rid of "Get Involved" thingie too, while we are at it
        var pt = document.getElementById("projecttools");
        var nv = document.getElementById("navcolumn");
        
        while(pt.previousSibling!=null)
          pt.parentNode.removeChild(pt.previousSibling);
        
        pt.parentNode.insertBefore(nv,pt);
        pt.parentNode.removeChild(pt);
      </script>
      <script>
        // kill "description" h3 bar
        var ld = document.getElementById("longdescription");
        if(ld!=null) {
          for( n=ld.firstChild; n!=null; n=n.nextSibling ) {
            if(n.nodeType==1 && n.innerHTML=="Description" ) {
              n.parentNode.removeChild(n);
              break;
            }
          }
        }
      </script>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Installation Instructions</h2><div class="section"><h3>From the binary</h3><p>Download our JSR 289 sip-servlet-ized 0.1 version of Tomcat 5.5.25 <a href="source/browse/*checkout*/sip-servlets/trunk/sip-servlets-bootstrap/release/apache-tomcat-5.5.25.zip?rev=306">here</a></p><p>Unzip it and run it from bin directory with ./catalina.bat run or ./catalina.sh run command. </p><p>You should see a bunch of stuff on the console saying that some sip servlet applications have been added.</p><p>Now that you can start it, you can play with the <a href="examples/examples.html">different examples</a> bundled with the release.</p><div class="section"><h4>What is different from Tomcat standard version</h4><ul><li>a sipapps directory containing all sip servlets applications shipping with this release has been addded.</li><li>the server.xml has been modified to provide extended classes to common container classes to allow for sip applications to be loaded and sip stack to be started</li><li>some jars have been added to allow sip servlets to be used</li><li>in server/lib directory, there should be a sip-servlets-impl-0.1.jar</li><li>in common/lib directory, there should be a sip-servlets-spec-1.1-SNAPSHOT.jar</li><li>in common/lib directory, there should be a jain-sip-api-1.2.jar</li><li>in common/lib directory, there should be a jain-sip-ri-1.2.jar</li><li>in common/lib directory, there should be a concurrent-1.3.4.jar</li><li>in common/lib directory, there should be a log4j-1.2.14.jar</li><li>a dars directory containing all the default applications router properties files for using the sip servlets applications bundled with the release, has been added to the conf directory </li></ul></div></div><div class="section"><h3>From the source </h3><p>Install <a href="http://tomcat.apache.org">Tomcat 5.5.25</a></p><p>Install <a href="http://maven.apache.org">maven 2</a></p><p>Check out the sip-servlets project at <a href="https://sip-servlets.dev.java.net/source/browse/sip-servlets/"></a> </p><p>Open up the pom.xml from sip-servlets-bootstrap project and change the following property tomcat.home at the end of the file Make it the same as your tomcat root installation by example E:\servers\apache-tomcat-5.5.25 </p><p>Run mvn clean install from the project root (sip-servlets-bootstrap)</p><p>Open the project with Eclipse, You need to add the M2_REPO variable so that eclipse can locate the jar files. to do that right click on the project name, click on properties, go to 'java build path' Click on Libraries Tab, then on 'Add Variable' button On the dialog popup, click on 'Configure variables' button on the new popup, click on 'New' button on the new popup(what a popup mess :-)), enter M2_REPO for the name input field and <i>your user directory</i>/.m2/repository for the value. on windows <i>your user directory</i> shall be replaced by C:/Documents and Settings/Ranga by example. Then OK to all and close all remaining popups. This should compile without errors if it behaves otherwise mail me to jean.deruelle@gmail.com</p><p>To run the sip servlet container : check that the following files have been copied during the mvn clean install</p><ul><li>in tomcat_home/server/lib directory, there should be a sip-servlets-impl-0.1.jar</li><li>in tomcat_home/common/lib directory, there should be a sip-servlets-spec-1.1-SNAPSHOT.jar</li><li>in tomcat_home/common/lib directory, there should be a jain-sip-api-1.2.jar</li><li>in tomcat_home/common/lib directory, there should be a jain-sip-ri-1.2.jar</li><li>in tomcat_home/common/lib directory, there should be a concurrent.jar</li><li>in tomcat_home/common/lib directory, there should be a log4j.jar</li></ul><p>make a backup of your tomcat_home/conf/server.xml file</p><p>copy the server.xml located in docs to tomcat_home/conf</p><p>look for the context tag in the server.xml file and modify the docbase attribute to map to your existing simple-sip-servlet application</p><p>make sure to run a mvn clean install at the root of simple-sip-servlet project too</p><p>Run mvn war:inplace </p><p>and remove the web.xml in both following directories simple-sip-servlet/src/main/sipapp/WEB-INF/ and simple-sip-servlet/target/simple-sip-servlet-1.0-SNAPSHOT/WEB-INF/ after it.</p><p>(This would be removed automatically through maven when time will permit...)</p><p>go to your tomcat_home/bin directory</p><p>run the following command : ./catalina.bat run or ./catalina.sh run </p><p>When the server has been started you should see the following logs on the standard output</p><p>18 juil. 2007 08:09:46 org.mobicents.servlet.sip.startup.SipContextConfig start INFO: /WEB-INF/sip.xml has been found !</p><p>18 juil. 2007 08:09:46 org.mobicents.servlet.sip.startup.SipContextConfig start INFO: /WEB-INF/sip.xml has been parsed !</p><p>log4j:WARN No appenders could be found for logger (SipContainer).</p><p>log4j:WARN Please initialize the log4j system properly.</p><p>the simple sip servlet has been started</p><p>18 juil. 2007 08:09:48 org.apache.coyote.http11.Http11BaseProtocol start INFO: DÚmarrage de Coyote HTTP/1.1 sur http-8080</p><p>18 juil. 2007 08:09:48 org.apache.jk.common.ChannelSocket init INFO: JK: ajp13 listening on /0.0.0.0:8009</p><p>18 juil. 2007 08:09:48 org.apache.jk.server.JkMain start INFO: Jk running ID=0 time=0/15 config=null</p><p>18 juil. 2007 08:09:48 org.apache.catalina.storeconfig.StoreLoader load INFO: Find registry server-registry.xml at classpath resource</p><p>18 juil. 2007 08:09:48 org.apache.catalina.startup.Catalina start INFO: Server startup in 1984 ms</p><p>In any case send an email on the issues mailing list at <a href="https://sip-servlets.dev.java.net/servlets/ProjectMailingListList"></a> if you encounter any problems.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2007
    
          
  

  
  
  &nbsp;| Last Published: 12/31/2007
  &nbsp;| Version: 0.1
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
