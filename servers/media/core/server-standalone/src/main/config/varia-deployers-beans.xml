<deployment xmlns="urn:jboss:bean-deployer:2.0">

  <bean name="AnnScanDeployer" class="org.jboss.deployers.plugins.annotations.GenericAnnotationDeployer"/>

  <bean name="BeanScanDeployer" class="org.jboss.deployers.vfs.deployer.kernel.BeanScanningDeployer"/>

  <bean name="AliasDeploymentDeployer" class="org.jboss.deployers.vfs.deployer.kernel.AliasDeploymentDeployer"/>

  <bean name="NamedAliasDeployer" class="org.jboss.deployers.vfs.deployer.kernel.DeploymentAliasMetaDataDeployer">
    <constructor><parameter class="org.jboss.kernel.Kernel"><inject bean="jboss.kernel:service=Kernel"/></parameter></constructor>
  </bean>

  <bean name="AnnotationHandlerFactory">
     <constructor factoryClass="org.jboss.kernel.plugins.annotations.BeanAnnotationAdapterFactory" factoryMethod="getInstance" />
  </bean>
  <bean name="AnnotationHandler">
     <constructor factoryMethod="getBeanAnnotationAdapter">
        <factory bean="AnnotationHandlerFactory"/>
     </constructor>
     <incallback method="addAnnotationPlugin" />
     <uncallback method="removeAnnotationPlugin" />
  </bean>

  <!-- Adding @JMX annotation handler -->
  <bean name="JmxFieldAnnotationPlugin" class="org.jboss.system.microcontainer.jmx.JMXFieldAnnotationPlugin" />
  <bean name="JmxPropertyAnnotationPlugin" class="org.jboss.system.microcontainer.jmx.JMXPropertyAnnotationPlugin" />

</deployment>
