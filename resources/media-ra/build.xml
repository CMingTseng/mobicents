<?xml version="1.0" encoding="utf-8"?>
<project name="MediaResourceAdaptor" default="build-and-deploy-ra">

	<property name="compile.as.debug" value="true" />

	<property name="mobicents.home" value="../.." />
	<!--import file="${mobicents.home}/xml/ant/mobicents-ant-common-properties.xml" /-->
	<import file="${mobicents.home}/xml/ant/mobicents-ant-common-ra.xml" />

	<property name="ra.name" value="media" />
	<property name="ra.entity" value="MediaRA" />
	<property name="ra.id" value="${ant.project.name}#org.mobicents#1.0" />

	<path id="ra.classpath">
		<path refid="mobicents.core.classpath" />
		<path refid="mobicents.ra.${ra.name}ra.classpath" />
	</path>

	<fileset id="ra.libs.ratype" dir="lib">
		<include name="jmf.jar" />
		<include name="nist-sdp-1.0.jar" />
		<include name="media-rtp.jar" />
	</fileset>

	<target name="persistent-deploy" depends="build-DUs">
			<copy file="${ant.file.MediaResourceAdaptor}/../ratype/jars/${ra.name}-ratype-DU.jar"  todir="${mobicents.deploy}"  />
			<copy file="${ant.file.MediaResourceAdaptor}/../ra/jars/${ra.name}-ra-DU.jar"  todir="${mobicents.deploy}"  />
			<copy file="${ant.file.MediaResourceAdaptor}/../scripts/${ra.name}ra-deploy.bsh"  todir="${mobicents.deploy}/scripts"  />
		</target>
		
		<target name="persistent-undeploy">
			<delete file="${mobicents.deploy}/${ra.name}-ratype-DU.jar"  />
			<delete file="${mobicents.deploy}/${ra.name}-ra-DU.jar"  />
			<delete file="${mobicents.deploy}/scripts/${ra.name}ra-deploy.bsh"  />
		</target>
	
</project>

