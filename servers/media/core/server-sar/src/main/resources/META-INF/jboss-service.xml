<?xml version="1.0" encoding="UTF-8"?>

<!-- 
	/*****************************************************************
	*                                                               *
	*  Mobicents Media Server                                       *
	*                                                               *
	*****************************************************************/
-->


<server>    
    <mbean code="org.mobicents.media.server.impl.jmx.rtp.RTPManager"
        name="media.mobicents:service=RTP">
        <attribute name="JndiName">java:media/mobicents/protocol/RTP</attribute>
        <attribute name="BindAddress">${jboss.bind.address}</attribute>
        <attribute name="Jitter">60</attribute>
        <attribute name="PacketizationPeriod">20</attribute>
        <attribute name="PortRange">1024-65535</attribute>
        <attribute name="AudioFormats">
            8   = ALAW, 8000, 8, 1;
            0   = ULAW, 8000, 8, 1;
            101 = telephone-event
        </attribute>    
    </mbean>
    
    <!-- Media Server Management MBean -->
    <mbean code="org.mobicents.media.server.impl.jmx.MediaServerManagement"
        name="media.mobicents:service=MediaServerManagement">
    </mbean>
    
    <!-- ANNOUNCEMENT  -->
    <mbean code="org.mobicents.media.server.impl.jmx.enp.ann.AnnEndpointManagement"
        name="media.mobicents:endpoint=announcement">
        <attribute name="JndiName">media/endpoint/Announcement</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
    </mbean>
    
	<!-- ANNOUNCEMENT TRUNK -->
	<mbean
		code="org.mobicents.media.server.impl.jmx.TrunkManagement"
		name="media.mobicents:trunk=announcement"
	>
		<depends optional-attribute-name="EndpointManagementMBean">media.mobicents:endpoint=announcement</depends>
		<attribute name="Channels">10</attribute>
		<attribute name="JndiName">media/trunk/Announcement</attribute>
	</mbean>    

    
    <!-- PACKET RELAY -->
    <mbean code="org.mobicents.media.server.impl.jmx.enp.prl.PREndpointManagement"
        name="media.mobicents:endpoint=packet-relay">
        <attribute name="JndiName">media/endpoint/PacketRelay</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
    </mbean>
    
	<!-- PACKET RELAY TRUNK -->
	<mbean
		code="org.mobicents.media.server.impl.jmx.TrunkManagement"
		name="media.mobicents:trunk=packet-relay"
	>
		<depends optional-attribute-name="EndpointManagementMBean">media.mobicents:endpoint=packet-relay</depends>
		<attribute name="Channels">10</attribute>
		<attribute name="JndiName">media/trunk/PacketRelay</attribute>
	</mbean>    
    
    
    <!-- LOOPBACK  -->
    <mbean code="org.mobicents.media.server.impl.jmx.enp.test.LoopEndpointManagement"
        name="media.mobicents:endpoint=loopback">
        <attribute name="JndiName">media/test/endpoint/Loopback</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
    </mbean>
    
	<!-- LOOPBACK TRUNK -->
	<mbean
		code="org.mobicents.media.server.impl.jmx.TrunkManagement"
		name="media.mobicents:trunk=loopback"
	>
		<depends optional-attribute-name="EndpointManagementMBean">media.mobicents:endpoint=loopback</depends>
		<attribute name="Channels">10</attribute>
		<attribute name="JndiName">media/test/trunk/Loopback</attribute>
	</mbean>    
    
    <!-- CONFERENCE -->
    <mbean
        code="org.mobicents.media.server.impl.jmx.enp.cnf.ConfEndpointManagement"
        name="media.mobicents:endpoint=conf" >
        <attribute name="JndiName">media/endpoint/Conference</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
    </mbean>
    
	<!-- CONF TRUNK -->
	<mbean
		code="org.mobicents.media.server.impl.jmx.TrunkManagement"
		name="media.mobicents:trunk=conf"
	>
		<depends optional-attribute-name="EndpointManagementMBean">media.mobicents:endpoint=conf</depends>
		<attribute name="Channels">10</attribute>
		<attribute name="JndiName">media/trunk/Conference</attribute>
	</mbean>    
    
    <!-- IVR -->
    <mbean
        code="org.mobicents.media.server.impl.jmx.enp.ivr.IVREndpointManagement"
        name="media.mobicents:endpoint=ivr">
        <attribute name="JndiName">media/endpoint/IVR</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
        <attribute name="MediaType">audio.x_wav</attribute>
        <attribute name="RecordDir">${jboss.server.data.dir}</attribute>
    </mbean>
    
	<!-- IVR TRUNK -->
	<mbean
		code="org.mobicents.media.server.impl.jmx.TrunkManagement"
		name="media.mobicents:trunk=ivr"
	>
		<depends optional-attribute-name="EndpointManagementMBean">media.mobicents:endpoint=ivr</depends>
		<attribute name="Channels">10</attribute>
		<attribute name="JndiName">media/trunk/IVR</attribute>
	</mbean>    
    
    <loader-repository>media.mobicents:archive=MediaServer,type=UCL</loader-repository>
</server>
