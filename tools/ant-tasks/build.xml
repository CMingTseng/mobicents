<?xml version="1.0"?>

<!--

 This is an ANT build file for the Mobicents JSLEE Ant Tasks
 
 -->

<project name="Mobicents_JSLEE_Ant_Tasks" default="build-tasks" basedir=".">
  <!-- Ignore any externally set classpath -->
  <property name="build.sysclasspath" value="ignore"/>

   <!-- PATHS -->

   <property name="classes.tasks" value="classes"/>
   <property name="jars" value="jars"/>

   <!-- OUTPUT JARS -->

   <!-- CLASSPATH -->

   <path id="project.class.path">
      <pathelement location="${ant.file.Mobicents_JSLEE_Ant_Tasks}/../../../core/jain-slee-1.0-tck/lib/ant.jar"/>
   </path>

   <!-- CUSTOM TASKS -->

   <target name="build-tasks">
     <mkdir dir="${classes.tasks}"/>
     <mkdir dir="${jars}"/>
     <javac srcdir="src/main" destdir="${classes.tasks}" deprecation="on" includes="org/mobicents/ant/**/*.java">
         <classpath>
            <path refid="project.class.path"/>
         </classpath>
      </javac>
     <jar destfile="${jars}/slee-ant-tasks.jar" basedir="${classes.tasks}"/>
     <taskdef name="sbbjar" classname="org.mobicents.ant.SbbJar" classpath="${jars}/slee-ant-tasks.jar"/>
     <taskdef name="eventjar" classname="org.mobicents.ant.EventJar" classpath="${jars}/slee-ant-tasks.jar:${slee.library}"/>
     <taskdef name="profilespecjar" classname="org.mobicents.ant.ProfileSpecJar" classpath="${jars}/slee-ant-tasks.jar"/>
     <taskdef name="deployablejar" classname="org.mobicents.ant.DeployableJar" classpath="${jars}/slee-ant-tasks.jar"/>
     <taskdef name="resourceadaptortypejar" classname="org.mobicents.ant.ResourceAdaptorTypeJar" classpath="${jars}/slee-ant-tasks.jar"/>
     <taskdef name="resourceadaptorjar" classname="org.mobicents.ant.ResourceAdaptorJar" classpath="${jars}/slee-ant-tasks.jar"/>
   	 <taskdef name="sbbconfigurator" classname="org.mobicents.ant.sbbconfigurator.Task" classpath="${jars}/slee-ant-tasks.jar" />	
   </target>

   <!-- CLEANERS -->

   <target name="clean-all-classes">
      <delete dir="${classes.tasks}" quiet="true"/>
      <mkdir  dir="${classes.tasks}"/>
   </target>

   <target name="clean-jars">
      <delete dir="${jars}" quiet="true"/>
   </target>

   <target name="clean" depends="clean-all-classes,clean-jars"/>


</project>


