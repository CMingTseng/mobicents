<?xml version="1.0" encoding="UTF-8"?>

<project basedir="." default="init" name="__YOUR_RA__">

	<!-- Definitions -->
	<property environment="system" />
	<!--property name="mobicents.examples" value="${system.MOBICENTS_EXAMPLES}" /-->
	
	

	<!-- MOBICENTS CLI -->
	<import file="../lib/build.xml" />

	<!-- DEPLOY & UNDEPLOY STUFF -->
	<property name="ra-entity" value="__PUT_RA_ENTITY_NAME_HERE__" />  <!-- this value will be set as re entity name and link -->
	<path id="ratype-du">
		<pathelement location="__PUT_RELATIVE_TO_RA_TYPE_DU_HERE__-" /><!-- relatvie path to ra type du jar ==> ./DU/ip-ra-type.jar-->
	</path>
	<property name="ratype-du" refid="ratype-du" />
	<path id="ra-du">
		<pathelement location="__PUT_RELATIVE_PATH_TO_RA_DU_HERE__" /><!-- relatvie path to ra du==> ./DU/ip-ra-local.jar -->
	</path>
	<property name="ra-du" refid="ra-du" />
	<property name="ra-id" value="__PUT_RA_ID_HERE__" /> <!-- SOMETHING DEFINED IN ra.xml like SMPPRA#org.mobicents#3.4-->
	
	
	<target name="init" depends="management-init"/>
	
	

	<target name="deploy" depends="init" description="Hot deploy">
		<echo>Installing ${ra-entity}.</echo>

		<slee-management jnpport="${jnpPort}" host="${jnpHost}">
			<install url="${file_url}${ratype-du}" />
			<install url="${file_url}${ra-du}" />
			<createraentity resourceadaptorid="${ra-id}" entityname="${ra-entity}" />
			<activateraentity entityname="${ra-entity}" />
			<bindralinkname entityname="${ra-entity}" linkname="${ra-entity}" />
		</slee-management>
	</target>

	<target name="undeploy" depends="init" description="Hot undeploy">
		<echo>Uninstalling ${ra-entity}.</echo>
		<slee-management jnpport="${jnpPort}" host="${jnpHost}">
			<unbindralinkname linkname="${ra-entity}" />
			<deactivateraentity entityname="${ra-entity}" />
			<removeraentity entityname="${ra-entity}" />
			<uninstall url="${file_url}${ra-du}" />
			<uninstall url="${file_url}${ratype-du}" />
		</slee-management>
	</target>

</project>

