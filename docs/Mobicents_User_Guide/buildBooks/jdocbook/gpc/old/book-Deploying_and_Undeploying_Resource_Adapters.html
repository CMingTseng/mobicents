<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title/>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
   </head>
   <body>
      <div class="book" lang="en-US">
         <div class="titlepage">
            <div>
               <p id="title">
                  <a href="http://www.jboss.org" class="jbossOrg_href">
                     <strong>
						        JBoss.org	
						</strong>
                  </a>
                  <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
                     <strong>
						        Community Documentation	
						</strong>
                  </a>
               </p>
            </div>
            <hr/>
         </div>
         <div class="toc">
            <dl>
               <dt>
                  <span class="chapter">
                     <a href="#chapter-Working_with_the_Mobicents_Management_Console">1. Working with the Mobicents Management Console</a>
                  </span>
               </dt>
            </dl>
         </div>
         <div class="section" lang="en-US">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title">
                        <a name="section-Deploying_and_Undeploying_Resource_Adapters"/>1. Deploying and Undeploying Resource Adapters</h2>
                  </div>
               </div>
            </div>
            <div class="section" lang="en-US">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a name="section-Before_You_Begin_Resource_Adapters_and_Deployable_Unit_Files"/>1.1. Before You Begin: Resource Adapters and Deployable Unit Files</h3>
                     </div>
                  </div>
               </div>
               <p>Resource adapters are JAIN SLEE components that can be deployed (i.e. “<span class="quote">loaded</span>” or “<span class="quote">installed</span>”) into the Mobicents Converged Application Server, and undeployed (“<span class="quote">uninstalled</span>”) from it. At the file level, resource adapters consist of specially-named files called deployable unit files. Two of these deployable unit files must be loaded/installed before the Mobicents Converged Application Server will deploy the resource adapter. The next few sections will teach you how to locate where resource adapters and their files live, and how to deploy them and undeploy them through several different, though equivalent ways: via the command line; by copying the correct files to a special directory, or removing them from it; or with the Mobicents Management Console.</p>
               <p>Which of these various ways of accomplishing the same task is easier depends on you. If you are comfortable with the command line, or like to script behavior, then deploying via the command line will probably be the preferred way for you. If you would prefer to simply copy or delete some files with the file manager, you can do it that way. And for those who prefer graphical user interfaces (<acronym class="acronym">GUI</acronym>s), the Management Console provides an interface to the Mobicents Converged Application Server, and can easily be used to accomplish such tasks both locally and remotely. Note that if you are running Mobicents on the Windows platform, then you will want to deploy resource adapters by either copying files or using the Management Console. However, no matter which method you eventually choose, it will be necessary to read the following explanatory paragraphs, on where to find the directories corresponding to the resource adapters you want to install, and on how to recognize deployable unit files, and on the correct order in which to install the deployable unit files, before reading any or all of the method sections.</p>
               <p class="formalpara">
                  <a name="fpara-Where_to_Find_Resource_Adapters_in_the_Mobicents_Installation"/>
               </p>
               <h5 class="formalpara">Where to Find Resource Adapters in the Mobicents Installation</h5>
               <p class="formalpara">The files belonging to resource adapters, and which you will need to access in order to deploy and undeploy them, are located in <code class="filename">
                     <em class="replaceable">
                        <code>&lt;topmost_mobicents_directory&gt;</code>
                     </em>/resources</code>. It is trivial to figure out which directory in <code class="filename">resources</code> corresponds to the resource adapter that you wish to deploy or undeploy. For example, the <code class="filename">sipra</code> directory holds the files necessary for running the <acronym class="acronym">SIP</acronym> resource adapter, and the <code class="filename">xmppra</code> directory holds the <acronym class="acronym">XMPP</acronym> and Google Talk resource adapter.</p>
               <p class="formalpara">
                  <a name="fpara-How_to_Recognize_Deployable_Unit_Files"/>
               </p>
               <h5 class="formalpara">How to Recognize Deployable Unit Files</h5>
               <p class="formalpara">Deployable unit files are <acronym class="acronym">JAR</acronym> (Java ARchive) files. There are two deployable unit files in each resource adapter's directory. The following two patterns describe the file names:</p>
               <div class="variablelist">
                  <a name="varlist-Deployable_Unit_File_Name_Conventions"/>
                  <p class="title">
                     <b>Deployable Unit File Name Conventions</b>
                  </p>
                  <dl>
                     <dt>
                        <span class="term">
					
                           <code class="filename">
						
                              <em class="replaceable">
                                 <code>&lt;resource_adapter_abbreviation&gt;</code>
                              </em>-ra-DU.jar</code>
				
                        </span>
                     </dt>
                     <dd>
                        <p>...where <span class="emphasis">
                              <em>ra</em>
                           </span> stands for “<span class="quote">resource adapter</span>”, and <span class="emphasis">
                              <em>DU</em>
                           </span> stands for "Deployable Unit (file). For example, if we want to deploy the <acronym class="acronym">SIP</acronym> resource adapter, and we are located in <code class="filename">
                              <em class="replaceable">
                                 <code>&lt;topmost_mobicents_directory&gt;</code>
                              </em>/resources/sipra</code>, then this deployable unit file will be named <code class="filename">sip-ra-DU.jar</code>.</p>
                     </dd>
                     <dt>
                        <span class="term">
					
                           <code class="filename">
						
                              <em class="replaceable">
                                 <code>&lt;resource_adapter_abbreviation&gt;</code>
                              </em>-ratype-DU.jar</code>
				
                        </span>
                     </dt>
                     <dd>
                        <p>...where <span class="emphasis">
                              <em>ratype</em>
                           </span> stands intuitively for “<span class="quote">resource adapter type</span>”, and <span class="emphasis">
                              <em>DU</em>
                           </span> again for “<span class="quote">Deployable Unit (file)</span>”. The file name for the “<span class="quote">ratype</span>” deployable unit file for the <acronym class="acronym">SIP</acronym> resource adapter is therefore <code class="filename">sip-ratype-DU.jar</code>.</p>
                     </dd>
                  </dl>
               </div>
               <p class="formalpara">
                  <a name="fpara-How_to_Determine_the_Correct_Order_for_Installing_Deployable_Unit_Files"/>
               </p>
               <h5 class="formalpara">How to Determine the Correct Order for Installing Deployable Unit Files</h5>
               <p class="formalpara">Deployable unit files must be installed in a certain order, starting with the <span class="emphasis">
                     <em>ratype</em>
                  </span> deployable unit file, whose file name has the form: <code class="filename">
                     <em class="replaceable">
                        <code>&lt;resource_adapter_abbreviation&gt;</code>
                     </em>-ratype-DU.jar</code>.</p>
               <p>The second (and last) deployable unit file you must install is the <span class="emphasis">
                     <em>ra</em>
                  </span> file: <code class="filename">
                     <em class="replaceable">
                        <code>&lt;resource_adapter_abbreviation&gt;</code>
                     </em>-ra-DU.jar</code>.</p>
               <p>For example, if you wanted to deploy the SIP resource adapter, then you would want to first install the deployable unit file named <code class="filename">
                     <em class="replaceable">
                        <code>&lt;resource_adapter_abbreviation&gt;</code>
                     </em>-ratype-DU.jar</code>, followed by the <code class="filename">
                     <em class="replaceable">
                        <code>&lt;resource_adapter_abbreviation&gt;</code>
                     </em>-ra-DU.jar</code> file. </p>
            </div>
            <div class="section" lang="en-US">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a name="section-Deploying_Resource_Adapters"/>1.2. Deploying Resource Adapters</h3>
                     </div>
                  </div>
               </div>
               <div class="note">
                  <h2>Note</h2>
                  <p>The introductory section titled <a href="#section-Before_You_Begin_Resource_Adapters_and_Deployable_Unit_Files" title="1.1. Before You Begin: Resource Adapters and Deployable Unit Files">Section 1.1, “Before You Begin: Resource Adapters and Deployable Unit Files”</a> should be read before proceeding to one of the following sections.</p>
               </div>
               <p>
			
                  <a href="#section-Deploying_Resource_Adapters_Via_the_Command_Line" title="1.2.1. Deploying Resource Adapters Via the Command Line">Section 1.2.1, “Deploying Resource Adapters Via the Command Line”</a>
		
               </p>
               <p>
			
                  <a href="#section-Deploying_Resource_Adapters_By_Copying_Deployable_Unit_Files" title="1.2.2. Deploying Resource Adapters By Copying Deployable Unit Files">Section 1.2.2, “Deploying Resource Adapters By Copying Deployable Unit Files”</a>
		
               </p>
               <p>
				
                  <a href="#section-Deploying_Resource_Adapters_With_the_Management_Console" title="1.2.3. Deploying Resource Adapters With the Management Console">Section 1.2.3, “Deploying Resource Adapters With the Management Console”</a>
			
               </p>
               <div class="section" lang="en-US">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a name="section-Deploying_Resource_Adapters_Via_the_Command_Line"/>1.2.1. Deploying Resource Adapters Via the Command Line</h4>
                        </div>
                     </div>
                  </div>
                  <p>Resource adapters can be deployed by simply issuing an ant task command from the topmost Mobicents directory. Make sure that the Mobicents Converged Application Server has been started, and then change to the topmost directory:</p>
                  <pre class="screen">cd &lt;topmost_mobicents_directory&gt;</pre>
                  <p>Run the ant build-and-deploy script, remembering to replace <code class="filename">
                        <em class="replaceable">
                           <code>&lt;resource_adapter&gt;</code>
                        </em>
				
                     </code> with the correct directory name (refer to <a href="#fpara-Where_to_Find_Resource_Adapters_in_the_Mobicents_Installation" title="Where to Find Resource Adapters in the Mobicents Installation">Where to Find Resource Adapters in the Mobicents Installation</a> if you are unsure):</p>
                  <pre class="screen">tools/ant/bin/ant -f resources/&lt;resource_adapter&gt;/build.xml ra-deploy</pre>
                  <p>For example, the directory name in <code class="filename">
                        <em class="replaceable">
                           <code>&lt;topmost_mobicents_directory&gt;</code>
                        </em>/resources</code> corresponding to the JAIN SIP resource adapter is (currently) named <code class="filename">sipra</code> ("SIP Resource Adapter"). To deploy the SIP resource adapter, therefore, you would issue the following command:</p>
                  <pre class="screen">tools/ant/bin/ant -f resources/sipra/build.xml ra-deploy</pre>
                  <p>If the resource adapter builds successfully, then a message similar to the following will be written to standard output:</p>
                  <pre class="screen">ra-activate:

ra-deploy:

BUILD SUCCESSFUL
Total time: 5 seconds</pre>
                  <p>To undeploy a resource adapter via the command line, refer to <a href="#section-Undeploying_Resource_Adapters_Via_the_Command_Line" title="1.3.1. Undeploying Resource Adapters Via the Command Line">Section 1.3.1, “Undeploying Resource Adapters Via the Command Line”</a>.</p>
               </div>
               <div class="section" lang="en-US">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a name="section-Deploying_Resource_Adapters_By_Copying_Deployable_Unit_Files"/>1.2.2. Deploying Resource Adapters By Copying Deployable Unit Files</h4>
                        </div>
                     </div>
                  </div>
                  <p>It is essential to have read the previous sections on locating resource adapter directories, recognizing deployable unit files, and determining the correct order for installing the files, before continuing. See <a href="#section-Before_You_Begin_Resource_Adapters_and_Deployable_Unit_Files" title="1.1. Before You Begin: Resource Adapters and Deployable Unit Files">Section 1.1, “Before You Begin: Resource Adapters and Deployable Unit Files”</a>.</p>
                  <p>You can deploy resource adapters by simply copying deployable unit files to a special directory with your file manager, or by doing the same via the command line. These instructions assume that you are using the file manager. You can also copy the two necessary files simultaneously, or one-after-the-other in the correct order, which is the way we will do it.</p>
                  <div class="warning">
                     <h2>Warning</h2>
                     <p>Make sure that you <span class="emphasis">
                           <em>copy</em>
                        </span> the deployable unit files, instead of <span class="emphasis">
                           <em>moving</em>
                        </span> them. If you accidentally move them, then make sure you copy them back to the correct resource adapter directory where they came from. If you accidentally move them and then delete them, you will probably have to reinstall Mobicents, so be careful to copy instead of move!</p>
                  </div>
                  <p>Open your file manager and move to the directory corresponding to the resource adapter you want to deploy. Find the <code class="filename">
                        <em class="replaceable">
                           <code>&lt;resource_adapter_abbreviation&gt;</code>
                        </em>-ratype-DU.jar</code> file and copy it.</p>
                  <div class="figure">
                     <a name="figure-top-deploying-ss-selecting_the_ratype_dependency.png"/>
                     <div class="figure-contents">
                        <div class="mediaobject" align="center">
                           <img src="images/top-deploying-ss-selecting_the_ratype_dependency.png" align="middle" alt="Locating and Copying the First Deployable Unit File"/>
                           <div class="caption">
                              <p>Copying the first deployable unit file, the ratype file, in order to deploy the SIP resource adatper.</p>
                           </div>
                        </div>
                     </div>
                     <p class="title">
                        <b>Figure 1. Locating and Copying the First Deployable Unit File</b>
                     </p>
                  </div>
                  <br class="figure-break"/>
                  <div class="mediaobject" align="center">
                     <a name="mediaobj-top-deploying-ss-selecting_the_ratype_dependency.png"/>
                     <img src="images/top-deploying-ss-selecting_the_ratype_dependency.png" align="middle"/>
                     <div class="caption">
                        <p>Copying the first deployable unit file, the ratype file, in order to deploy the SIP resource adatper.</p>
                     </div>
                  </div>
                  <p>Where you will paste it to depends on whether you installed the Mobicents binary release, or built Mobicents from source. If you installed the binary version, then the correct directory to copy the files into is <code class="filename">
                        <em class="replaceable">
                           <code>&lt;topmost_mobicents_directory&gt;</code>
                        </em>/server/server/default/deploy</code> (remembering that the bundled JBoss installation that comes with the binary Mobicents release is located in <code class="filename">
                        <em class="replaceable">
                           <code>&lt;topmost_mobicents_directory&gt;</code>
                        </em>/server/server/default</code>; you are actually copying the file into JBoss's <code class="filename">deploy</code> directory). If, on the other hand, you installed Mobicents and JBoss separately and set the <code class="envar">JBOSS_HOME</code> environment variable, then the correct directory to copy the file to is <code class="filename">
                        <code class="envar">$JBOSS_HOME</code>/deploy</code>.</p>
                  <p>After copying the <span class="emphasis">
                        <em>ratype</em>
                     </span> deployable unit file, Mobicents will send a message like the following to standard output, indicating that the file was successfully installed.</p>
                  <pre class="screen">19:59:03,651 INFO  [RaTypeDeployer] Added RA Type with id ResourceAdaptorTypeID[JAIN SIP#javax.sip#1.2]
19:59:03,683 INFO  [STDOUT] 19:59:03,682 INFO  [DeploymentMBeanImpl] Deployable unit with URL file:/home/silas/Desktop/temp/apps/mobicents/mobicents-all-1_2_0_BETA2/server/server/default/deploy/sip-ratype-DU.jar deployed as DeployableUnitID[0]</pre>
                  <p>After successfully copying the <code class="filename">
                        <em class="replaceable">
                           <code>&lt;resource_adapter_abbreviation&gt;</code>
                        </em>-ratype-DU.jar</code> file, proceed to copy the <code class="filename">
                        <em class="replaceable">
                           <code>&lt;resource_adapter_abbreviation&gt;</code>
                        </em>-ra-DU.jar</code> file to the same directory. Copying the <span class="emphasis">
                        <em>ra</em>
                     </span> file (after the <span class="emphasis">
                        <em>ratype</em>
                     </span> file, of course) will lead to successful installation of the resource adapter, and the Mobicents Converged Application Server will output information similar to the following to standard output:</p>
                  <pre class="screen">19:59:59,940 INFO  [STDOUT] 19:59:59,940 INFO  [ResourceManagementMBeanImpl] Activated RA Entity SipRA
20:00:00,191 INFO  [STDOUT] 20:00:00,190 INFO  [ResourceManagementMBeanImpl] Created Link between RA Entity SipRA and Name SipRA</pre>
                  <p>The easier way is simply to select and copy both deployable unit files and paste them simultaneously into <code class="filename">
                        <em class="replaceable">
                           <code>&lt;topmost_mobicents_directory&gt;</code>
                        </em>/server/server/default/deploy</code> (or <code class="filename">
                        <code class="envar">$JBOSS_HOME</code>/deploy</code> if you installed JBoss separately). When you do it that way, Mobicents can figure out in which order it should install the files.</p>
                  <p>To undeploy a resource adapter by removing or deleting deployable unit files, refer to <a href="#section-Undeploying_Resource_Adapters_By_Removing_Files" title="1.3.2. Undeploying Resource Adapters By Removing Files">Section 1.3.2, “Undeploying Resource Adapters By Removing Files”</a>.</p>
               </div>
               <div class="section" lang="en-US">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a name="section-Deploying_Resource_Adapters_With_the_Management_Console"/>1.2.3. Deploying Resource Adapters With the Management Console</h4>
                        </div>
                     </div>
                  </div>
                  <p>The Mobicents Management Console provides a graphical way to deploy and undeploy resource adapters. This section requires that you are familiar with the Management Console; for an introduction to the Console, refer first to <a href="#chapter-Working_with_the_Mobicents_Management_Console" title="Chapter 1. Working with the Mobicents Management Console">Chapter 1, <i xmlns:xlink="http://www.w3.org/1999/xlink">Working with the Mobicents Management Console</i>
                     </a>.</p>
                  <div class="important">
                     <h2>Important</h2>
                     <p>The following instructions also assume that you have already read introductory sections on locating resource adapter directories, recognizing deployable unit files, and determining their correct order for installation. It is essential to read those sections before attempting to deploy a resource adapter with the Management Console. See <a href="#section-Before_You_Begin_Resource_Adapters_and_Deployable_Unit_Files" title="1.1. Before You Begin: Resource Adapters and Deployable Unit Files">Section 1.1, “Before You Begin: Resource Adapters and Deployable Unit Files”</a>
				
                     </p>
                  </div>
                  <p>Once the Mobicents Converged Application Server is running, point your browser to <code class="systemitem">
                        <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://localhost:8080/management-console/">http://localhost:8080/management-console/</a>
				
                     </code> to open the Management Console. Click on <span>
                        <strong class="guimenuitem">Deployable Units</strong>
                     </span> in the Main Menu; this will open the <span>
                        <strong class="guilabel">Deployable Units</strong>
                     </span> main view, where you will see a list of currently-deployed units under the <span>
                        <strong class="guimenuitem">Browse</strong>
                     </span> tab, which will read <code class="literal">No deployable unit found</code> at first. Two other tabs provide the possibility of searching for and installing deployable units. Click on the <span>
                        <strong class="guimenuitem">Install</strong>
                     </span> tab, and you will see a <span>
                        <strong class="guilabel">Package file:</strong>
                     </span> prompt and a text-entry field in which the name of the deployable unit file you want to install will be listed. <em>
                        <span class="remark">But first we must locate the correct deployable unit file, so click the <span>
                              <strong class="guibutton">Browse</strong>
                           </span> button to the right of the text-entry field.</span>
                     </em>
			
                  </p>
                  <div class="figure">
                     <a name="figure-top-deploying-ss-install.png"/>
                     <div class="figure-contents">
                        <div class="mediaobject" align="center">
                           <img src="images/top-deploying-ss-install.png" align="middle" alt="The Install tab of the Deployable Units view in the Management Console"/>
                        </div>
                     </div>
                     <p class="title">
                        <b>Figure 2. The Install tab of the Deployable Units view in the Management Console</b>
                     </p>
                  </div>
                  <br class="figure-break"/>
                  <p>Before continuing, make sure that you know which deployable unit file to install first by reading the section titled <a href="#fpara-How_to_Determine_the_Correct_Order_for_Installing_Deployable_Unit_Files" title="How to Determine the Correct Order for Installing Deployable Unit Files">How to Determine the Correct Order for Installing Deployable Unit Files</a>.</p>
                  <p>Once armed with this knowledge, click the <span>
                        <strong class="guibutton">Browse</strong>
                     </span> button to find and install the first deployable unit file, whose file name will appear in the text entry field, and then click the <span>
                        <strong class="guibutton">Install</strong>
                     </span> button. Then install the second deployable unit file. If you install the files in the incorrect order, a message similar to the following will appear in the <span>
                        <strong class="guilabel">Log Console</strong>
                     </span> at the bottom of the Management Console main view:</p>
                  <pre class="screen">[ERROR] javax.slee.management.DeploymentException: Could not deploy: No DeployableUniDeploymentDescriptor descriptor (META-INF/deployable-unit.xml) was found in deployable...</pre>
                  <p>If you receive this error message, try installing the other deployable unit file first. Installing the right files in the correct order will lead to <code class="computeroutput">[INFO] Deployable unit installed</code> messages in the <span>
                        <strong class="guilabel">Log Console</strong>
                     </span>.</p>
                  <p>If you see the name of the resource adapter you wanted to install listed in the <span>
                        <strong class="guimenuitem">Resources</strong>
                     </span> view of the Management Console, then that resource adapter has been successfully deployed.</p>
                  <div class="figure">
                     <a name="figure-top-deploying-ss-installation_success.png"/>
                     <div class="figure-contents">
                        <div class="mediaobject" align="center">
                           <img src="images/top-deploying-ss-installation_success.png" align="middle" alt="Successful Deployment of the SIP Resource Adapter with the Mobicents Management Console"/>
                        </div>
                     </div>
                     <p class="title">
                        <b>Figure 3. Successful Deployment of the SIP Resource Adapter with the Mobicents Management Console</b>
                     </p>
                  </div>
                  <br class="figure-break"/>
                  <p>To undeploy a resource adapter with the Management Console, refer to <a href="#section-Undeploying_Resource_Adapters_With_the_Management_Console" title="1.3.3. Undeploying Resource Adapters With the Management Console">Section 1.3.3, “Undeploying Resource Adapters With the Management Console”</a>.</p>
               </div>
            </div>
            <div class="section" lang="en-US">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a name="section-Undeploying_Resource_Adapters"/>1.3. Undeploying Resource Adapters</h3>
                     </div>
                  </div>
               </div>
               <div class="note">
                  <h2>Note</h2>
                  <p>The introductory section titled <a href="#section-Before_You_Begin_Resource_Adapters_and_Deployable_Unit_Files" title="1.1. Before You Begin: Resource Adapters and Deployable Unit Files">Section 1.1, “Before You Begin: Resource Adapters and Deployable Unit Files”</a> should be read before proceeding to one of the following sections.</p>
               </div>
               <p>
			
                  <a href="#section-Undeploying_Resource_Adapters_Via_the_Command_Line" title="1.3.1. Undeploying Resource Adapters Via the Command Line">Section 1.3.1, “Undeploying Resource Adapters Via the Command Line”</a>
		
               </p>
               <p>
			
                  <a href="#section-Undeploying_Resource_Adapters_By_Removing_Files" title="1.3.2. Undeploying Resource Adapters By Removing Files">Section 1.3.2, “Undeploying Resource Adapters By Removing Files”</a>
		
               </p>
               <p>
			
                  <a href="#section-Undeploying_Resource_Adapters_With_the_Management_Console" title="1.3.3. Undeploying Resource Adapters With the Management Console">Section 1.3.3, “Undeploying Resource Adapters With the Management Console”</a>
		
               </p>
               <div class="section" lang="en-US">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a name="section-Undeploying_Resource_Adapters_Via_the_Command_Line"/>1.3.1. Undeploying Resource Adapters Via the Command Line</h4>
                        </div>
                     </div>
                  </div>
                  <p>It is as easy to undeploy resource adapters via the command line as it is to deploy them that way: by simply issuing an ant task command from the topmost Mobicents directory, after the Mobicents Converged Application Server has been started, of course.</p>
                  <pre class="screen">cd &lt;topmost_mobicents_directory&gt;</pre>
                  <p>You will run the same ant script that you ran to build and deploy the resource adapter, but note that the last argument has changed from <code class="option">ra-deploy</code> to <code class="option">ra-undeploy</code>:</p>
                  <pre class="screen">tools/ant/bin/ant -f resources/&lt;resource_adapter&gt;/build.xml ra-undeploy</pre>
                  <p>For example, to undeploy the SIP resource adapter you would issue the following command:</p>
                  <pre class="screen">tools/ant/bin/ant -f resources/sipra/build.xml ra-undeploy</pre>
                  <p>Upon success, a message similar to the following will be written to standard output:</p>
                  <pre class="screen">ra-uninstall:
     [echo] Uninstalling SipRA.
[slee-management] Apr 8, 2008 8:49:12 PM org.mobicents.ant.tasks.UninstallTask run
[slee-management] INFO: No response
[slee-management] Apr 8, 2008 8:49:12 PM org.mobicents.ant.tasks.UninstallTask run
[slee-management] INFO: No response

ra-undeploy:

BUILD SUCCESSFUL
Total time: 2 seconds</pre>
               </div>
               <div class="section" lang="en-US">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a name="section-Undeploying_Resource_Adapters_By_Removing_Files"/>1.3.2. Undeploying Resource Adapters By Removing Files</h4>
                        </div>
                     </div>
                  </div>
                  <p>If you deployed a resource adapter by copying the deployable unit files from the resource adapter's directory to the <code class="filename">
                        <em class="replaceable">
                           <code>&lt;topmost_jboss_directory&gt;</code>
                        </em>/deploy</code> directory<sup>[<a name="d0e468" href="#ftn.d0e468">1</a>]</sup>, then you can undeploy that same resource adapter merely by removing the two deployable unit files from the <code class="filename">deploy</code> directory. In the file manager or on the command line, simply go to <code class="filename">
                        <em class="replaceable">
                           <code>&lt;topmost_jboss_directory&gt;</code>
                        </em>/deploy</code>  and either move the correct two deployable unit files out of it, or delete both of them from it.</p>
                  <div class="warning">
                     <a name="warning-Dont_Delete_if_You_Didnt_Copy"/>
                     <h2>Don't Delete if You Didn't Copy!</h2>
                     <p>If you choose to delete the two deployable unit files, <span class="emphasis">
                           <em>make sure</em>
                        </span> that you indeed <span class="emphasis">
                           <em>copied</em>
                        </span> them into the <code class="filename">deploy</code> directory, and that they both still exist in the directory of the resource adapter you want to undeploy!</p>
                  </div>
                  <p>Successfully removing or deleting both files from the <code class="filename">deploy</code> directory will result in a long string of messages sent to standard output, and ending with a line similar to: <code class="computeroutput">17:48:10,705 INFO  [STDOUT] 17:48:10,705 INFO  [DeploymentMBeanImpl] Uninstalled DU with id DeployableUnitID[6]</code>. It is also possible to simply remove or delete only the <code class="filename">
                        <em class="replaceable">
                           <code>&lt;resource_adapter_abbreviation&gt;</code>
                        </em>-ra-DU.jar</code> file and have Mobicents undeploy the resource adapter, but it is recommended to always remove or delete both files.</p>
                  <div class="note">
                     <a name="note-Leaving_Resource_Adapters_Deployed"/>
                     <h2>Leaving Resource Adapters Deployed</h2>
                     <p>One convenient way to have the Mobicents Converged Application Server deploy the correct resource adapters every time you start the server is to leave the deployable unit files in the <code class="filename">
                           <em class="replaceable">
                              <code>&lt;topmost_jboss_directory&gt;</code>
                           </em>/deploy</code> directory. Upon startup, Mobicents will notice that the two files are still there, and will automatically deploy the resource adapter.</p>
                  </div>
               </div>
               <div class="section" lang="en-US">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a name="section-Undeploying_Resource_Adapters_With_the_Management_Console"/>1.3.3. Undeploying Resource Adapters With the Management Console</h4>
                        </div>
                     </div>
                  </div>
                  <p>If you are looking to undeploy a resource adapter with the Management Console, then it is assumed that you have first read <a href="#section-Before_You_Begin_Resource_Adapters_and_Deployable_Unit_Files" title="1.1. Before You Begin: Resource Adapters and Deployable Unit Files">Section 1.1, “Before You Begin: Resource Adapters and Deployable Unit Files”</a> and <a href="#section-Deploying_Resource_Adapters_With_the_Management_Console" title="1.2.3. Deploying Resource Adapters With the Management Console">Section 1.2.3, “Deploying Resource Adapters With the Management Console”</a>. </p>
                  <p>You can undeploy resource adapters from the <span>
                        <strong class="guilabel">Deployable Units</strong>
                     </span> view in the Management Console by uninstalling the two deployable unit files. Click on <span>
                        <strong class="guimenuitem">Deployable Units</strong>
                     </span> from the Main Menu, and then make sure that the <span>
                        <strong class="guimenuitem">Browse</strong>
                     </span> tab is selected at the top of the view. You will see a list of deployable unit files for the currently-installed resource adapters.</p>
                  <div class="figure">
                     <a name="figure-Uninstalling_Deployable_Unit_Files_with_the_Management_Console"/>
                     <div class="figure-contents">
                        <div class="mediaobject" align="center">
                           <img src="images/top-deploying-ss-uninstalling.png" align="middle" alt="Uninstalling Deployable Unit Files with the Management Console"/>
                           <div class="caption">
                              <p>The Browse tab of the Deployable Units view shows all deployable unit files for all resource adapters that are currently deployed</p>
                           </div>
                        </div>
                     </div>
                     <p class="title">
                        <b>Figure 4. Uninstalling Deployable Unit Files with the Management Console</b>
                     </p>
                  </div>
                  <br class="figure-break"/>
                  <p>Find the deployable unit file that corresponds to the <code class="filename">
                        <em class="replaceable">
                           <code>&lt;resource_adapter_abbreviation&gt;</code>
                        </em>-ra-DU.jar</code> pattern, and click on the <span>
                        <strong class="guilabel">Uninstall</strong>
                     </span> link in the <span>
                        <strong class="guilabel">Actions</strong>
                     </span> column. This will uninstall the file, and a message similar to <code class="computeroutput">[INFO] Deployable unit sip-ra-DU uninstalled</code> will appear in the <span>
                        <strong class="guilabel">Console Log</strong>
                     </span> below. After uninstalling the <span class="emphasis">
                        <em>ra</em>
                     </span> file, then uninstall the <code class="filename">
                        <em class="replaceable">
                           <code>&lt;resource_adapter_abbreviation&gt;</code>
                        </em>-ratype-DU.jar</code> file, which will print a success message like the previous one to the <span>
                        <strong class="guilabel">Console Log</strong>
                     </span>.</p>
                  <p>If you try to uninstall the <span class="emphasis">
                        <em>ratype</em>
                     </span> deployable unit file before the <span class="emphasis">
                        <em>ra</em>
                     </span> file, then you will receive a message similar to the following one, alerting you to the mistake: <code class="computeroutput">[ERROR] javax.slee.management.ManagementException: Exception removing deployable Unit</code>.</p>
               </div>
            </div>
         </div>
         <div class="chapter" lang="en-US">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title">
                        <a name="chapter-Working_with_the_Mobicents_Management_Console"/>Chapter 1. Working with the Mobicents Management Console</h2>
                  </div>
               </div>
            </div>
            <p>Once Mobicents is running, you can access the management console by pointing your browser to <code class="systemitem">
                  <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://localhost:8080/management-console/">http://localhost:8080/management-console/</a>
		
               </code>. If you are working with a remote machine, replace <strong class="userinput">
                  <code>localhost</code>
               </strong> with the name of the remote machine's host, and <strong class="userinput">
                  <code>8080</code>
               </strong> with the correct port.</p>
            <p>The management console screen has the following components:</p>
            <div class="itemizedlist">
               <ul>
                  <li>
                     <p>The <code class="literal">Main Menu</code>, on the left.</p>
                  </li>
                  <li>
                     <p>The <code class="literal">Current View</code>, on the right.</p>
                  </li>
                  <li>
                     <p>The <code class="literal">Log Console</code>, on the bottom.</p>
                  </li>
               </ul>
            </div>
            <div class="figure">
               <a name="top-ss-mmc-initial_view.png"/>
               <div class="figure-contents">
                  <div class="mediaobject" align="center">
                     <img src="images/top-ss-mmc-initial_view.png" align="middle" alt="The Mobicents Management Console, initial view"/>
                  </div>
               </div>
               <p class="title">
                  <b>Figure 1.1. The Mobicents Management Console, initial view</b>
               </p>
            </div>
            <br class="figure-break"/>
            <p>New views my be selected by clicking on the <code class="literal">Main Menu</code> items. The <code class="literal">Log Console</code> displays important and relevant notifications when operations are executed, such as error and status messages.</p>
            <p>The initial management console view, which can also be accessed by clicking on <code class="literal">SLEE</code> at the top of the <code class="literal">Main Menu</code>, displays a status message indicating whether Mobicents is currently running or not, and provides controls to start, stop, and shut down the Mobicents Converged Application Server.</p>
            <h5 class="formalpara">
			
               <code class="literal">Deployable Units</code>
		
            </h5>
            <p class="formalpara">This view can be selected by clicking on <code class="literal">Deployable Units</code> from the Main Menu, and shows a list of all deployable units that can be deployed with the Mobicents Converged Application Server.</p>
            <div class="figure">
               <a name="figure-top-ss-mmc-deployable_units.png"/>
               <div class="figure-contents">
                  <div class="mediaobject" align="center">
                     <img src="images/top-ss-mmc-deployable_units.png" align="middle" alt="The Deployable Units view"/>
                  </div>
               </div>
               <p class="title">
                  <b>Figure 1.2. The <code class="literal">Deployable Units</code> view</b>
               </p>
            </div>
            <br class="figure-break"/>
            <p>A tab bar at the top of the view allows one to browse, search for, and install deployable units.</p>
            <h5 class="formalpara">
			
               <code class="literal">Components</code>
		
            </h5>
            <p class="formalpara">The next view on the Main Menu is the <code class="literal">Components</code> view, which displays a list of component types, such as services, <acronym class="acronym">SBB</acronym>s, resource adapters, <abbr class="abbrev">etc.</abbr>, and their current count. Clicking on a component type will cause the management console to show a list of components for that type. From there, you can click on the different components to see their details.</p>
            <div class="figure">
               <a name="figure-top-ss-mmc-components.png"/>
               <div class="figure-contents">
                  <div class="mediaobject" align="center">
                     <img src="images/top-ss-mmc-components.png" align="middle" alt="The Compenents view"/>
                  </div>
               </div>
               <p class="title">
                  <b>Figure 1.3. The <code class="literal">Compenents</code> view</b>
               </p>
            </div>
            <br class="figure-break"/>
            <h5 class="formalpara">
			
               <code class="literal">Services</code>
		
            </h5>
            <p class="formalpara">The <code class="literal">Services</code> view naturally shows the list of available services, their state, whether <code class="literal">ACTIVE</code> or <code class="literal">INACTIVE</code>, and all currently possible actions for that resource adapter, such as <code class="literal">activate</code>, <code class="literal">deactivate</code> or <code class="literal">remove</code>.</p>
            <div class="figure">
               <a name="figure-top-ss-mmc-services.png"/>
               <div class="figure-contents">
                  <div class="mediaobject" align="center">
                     <img src="images/top-ss-mmc-services.png" align="middle" alt="The Services view"/>
                  </div>
               </div>
               <p class="title">
                  <b>Figure 1.4. The <code class="literal">Services</code> view</b>
               </p>
            </div>
            <br class="figure-break"/>
            <p>The tab bar at the top of the <code class="literal">Services</code> view also allows you to control the usage parameters of services.</p>
            <h5 class="formalpara">
			
               <code class="literal">Resource Adapters</code>
		
            </h5>
            <p class="formalpara">Choosing <code class="literal">Resources</code> from the <code class="literal">Main Menu</code> will put the currently-deployed resource adapters in view. There, you can see their name, type, vendor and version. Clicking on one of the resource adapters will provide further information such as the name of the deployable unit, its state, whether <code class="literal">ACTIVE</code> or <code class="literal">INACTIVE</code>, and the currenty possible actions for specific services, such as activating, deactivating, or removing them.</p>
            <div class="figure">
               <a name="figure-top-ss-mmc-resources.png"/>
               <div class="figure-contents">
                  <div class="mediaobject" align="center">
                     <img src="images/top-ss-mmc-resources.png" align="middle" alt="The Resources view"/>
                  </div>
               </div>
               <p class="title">
                  <b>Figure 1.5. The <code class="literal">Resources</code> view</b>
               </p>
            </div>
            <br class="figure-break"/>
            <h5 class="formalpara">
			
               <code class="literal">Activity Contexts</code>
		
            </h5>
            <p class="formalpara">The Activity Contexts view can be displayed by clicking on <code class="literal">Activities</code> from the <code class="literal">Main Menu</code>, and shows the current activity contexts. The <code class="literal">TTL</code> field shows how much time the activity can remain idle before being marked for garbage collection.</p>
            <div class="figure">
               <a name="figure-top-ss-mmc-activities.png"/>
               <div class="figure-contents">
                  <div class="mediaobject" align="center">
                     <img src="images/top-ss-mmc-activities.png" align="middle" alt="The Activities view"/>
                  </div>
               </div>
               <p class="title">
                  <b>Figure 1.6. The <code class="literal">Activities</code> view</b>
               </p>
            </div>
            <br class="figure-break"/>
         </div>
      </div>
   </body>
</html>