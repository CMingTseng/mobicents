<project basedir="." default="deploy-all" name="ConvergedDemo">

	<!-- 
		Properties 
	-->
	<property name="slee.dir" value="slee" />
	<property name="web.dir" value="web" />


	<import file="../lib/build.xml" />


        <!--
	deploy-all will deploy the http-servlet-ra, the example service and the example web
        -->
	<target name="deploy-all" depends="management-init, build-all" description="!! Deploys this  example along with all dependencies !!">		
		<!-- TODO: Add the SIPRA, TTSRA, MediaRA and PersistenceRA deployment here -->
		<ant target="deploy" />
	</target>

	<!--
	deploy is only for deploying example service and example web
	-->
	<target name="deploy" depends="build-all" description="Deploys httpservletra.war web and slee">
		
		<subant target="deploy">
			<fileset dir="${slee.dir}" includes="build.xml" />
		</subant>
		<subant target="deploy">
			<fileset dir="${web.dir}" includes="build.xml" />
		</subant>

	</target>

	<!--
	undeploy-all undeploys the example service, example web and http-servlet-ra in that order
	-->
	<target name="undeploy-all" depends="management-init" description="!! UnDeploys this  example along with all dependencies !!">
		<ant target="udeploy" />
		<!-- TODO: Add the SIPRA, TTSRA, MediaRA and PersistenceRA un-deployment here -->
	</target>

	<!--
	undeploy undeploys the example service and example web 
	-->
	<target name="udeploy" description="UnDeploys web and slee">
		<subant target="undeploy">
			<fileset dir="${web.dir}" includes="build.xml" />
		</subant>
		<subant target="undeploy">
			<fileset dir="${slee.dir}" includes="build.xml" />
		</subant>
	</target>

	<!--
	clean-all cleans the example service, example web and tests
	-->
        <target name="clean-all" description="Cleans all targets" >
		<subant target="clean">
			<fileset dir="${slee.dir}" includes="build.xml" />
		</subant>
		<subant target="clean">
			<fileset dir="${web.dir}" includes="build.xml" />
		</subant>
	</target>

	<!--
	build-all builds the example service, example web and tests
	-->
        <target name="build-all" description="Builds all targets" >
		<subant target="build-ConvergedDemo-DU">
			<fileset dir="${slee.dir}" includes="build.xml" />
		</subant>
		<subant target="archive">
			<fileset dir="${web.dir}" includes="build.xml" />
		</subant>
	</target>
</project>
