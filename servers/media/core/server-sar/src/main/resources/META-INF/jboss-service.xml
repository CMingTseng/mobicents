<?xml version="1.0" encoding="UTF-8"?>

<!-- 
	/*****************************************************************
	*                                                               *
	*  Mobicents Media Server                                       *
	*                                                               *
	*****************************************************************/
-->


<server>    
    <mbean code="org.mobicents.media.server.impl.jmx.rtp.RTPManager"
        name="media.mobicents:service=RTPManager,QID=1">
        <attribute name="JndiName">java:media/mobicents/protocol/RTP</attribute>
        <attribute name="BindAddress">${jboss.bind.address}</attribute>
        <attribute name="Jitter">60</attribute>
        <attribute name="PacketizationPeriod">20</attribute>
        <attribute name="PortRange">1024-65535</attribute>
        <!--  To enable G729 Codec please look at http://www.mobicents.org/products_media_server.html -->
        <attribute name="AudioFormats">            
            0   = ULAW, 8000, 8, 1;
            8   = ALAW, 8000, 8, 1;
            3   = GSM, 8000, 8, 1;
			97  = SPEEX, 8000, 8, 1;            
			101 = telephone-event/8000
        </attribute>    
    </mbean>
    
    <!-- Media Server Management MBean -->
	<mbean code="org.mobicents.media.server.impl.jmx.MediaServerManagement"
		name="media.mobicents:service=MediaServerManagement">
		<depends optional-attribute-name="IvrEndpointManagementMBean">media.mobicents:endpoint=ivr</depends>
		<depends optional-attribute-name="ConfEndpointManagementMBean">media.mobicents:endpoint=conf</depends>
		<depends optional-attribute-name="LoopEndpointManagementMBean">media.mobicents:endpoint=loopback</depends>
		<depends optional-attribute-name="PrEndpointManagementMBean">media.mobicents:endpoint=packet-relay</depends>
		<depends optional-attribute-name="AnnEndpointManagementMBean">media.mobicents:endpoint=announcement</depends>

		<!-- Any non standard endpoint with mgmt mbean shoult be specified as below -->
		<!--  <depends optional-attribute-name="DependencyMBean">media.mobicents:endpoint=PSTNx</depends>  -->
	</mbean>
    
    <!-- ANNOUNCEMENT  -->
    <mbean code="org.mobicents.media.server.impl.jmx.enp.ann.AnnEndpointManagement"
        name="media.mobicents:endpoint=announcement">
        <attribute name="JndiName">media/trunk/Announcement</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
    </mbean>

    
    <!-- PACKET RELAY -->
    <mbean code="org.mobicents.media.server.impl.jmx.enp.prl.PREndpointManagement"
        name="media.mobicents:endpoint=packet-relay">
        <attribute name="JndiName">media/trunk/PacketRelay</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
    </mbean>
    
    
    <!-- LOOPBACK  -->
    <mbean code="org.mobicents.media.server.impl.jmx.enp.test.LoopEndpointManagement"
        name="media.mobicents:endpoint=loopback">
        <attribute name="JndiName">media/test/trunk/Loopback</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
    </mbean>
    
    <!-- CONFERENCE -->
    <mbean
        code="org.mobicents.media.server.impl.jmx.enp.cnf.ConfEndpointManagement"
        name="media.mobicents:endpoint=conf" >
        <attribute name="JndiName">media/trunk/Conference</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
    </mbean>
    
    <!-- IVR -->
    <mbean
        code="org.mobicents.media.server.impl.jmx.enp.ivr.IVREndpointManagement"
        name="media.mobicents:endpoint=ivr">
        <attribute name="JndiName">media/trunk/IVR</attribute>
        <attribute name="RtpFactoryName">java:media/mobicents/protocol/RTP</attribute>
        <attribute name="MediaType">audio.x_wav</attribute>
        <attribute name="RecordDir">${jboss.server.data.dir}</attribute>
    </mbean>
    
    <loader-repository>media.mobicents:archive=MediaServer,type=UCL</loader-repository>
</server>
